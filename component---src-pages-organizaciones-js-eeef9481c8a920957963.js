/*! For license information please see component---src-pages-organizaciones-js-eeef9481c8a920957963.js.LICENSE.txt */
(self.webpackChunkconstelaciones_web=self.webpackChunkconstelaciones_web||[]).push([[934],{9100:function(t,e,n){var r=n(9489),o=n(7067);function i(e,n,a){return o()?(t.exports=i=Reflect.construct,t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=i=function(t,e,n){var o=[null];o.push.apply(o,e);var i=new(Function.bind.apply(t,o));return n&&r(i,n.prototype),i},t.exports.default=t.exports,t.exports.__esModule=!0),i.apply(null,arguments)}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},9713:function(t){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.default=t.exports,t.exports.__esModule=!0},430:function(t){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")},t.exports.default=t.exports,t.exports.__esModule=!0},7067:function(t){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.default=t.exports,t.exports.__esModule=!0},8551:function(t,e,n){var r=n(2858),o=n(6860),i=n(379),a=n(521);t.exports=function(t){return r(t)||o(t)||i(t)||a()},t.exports.default=t.exports,t.exports.__esModule=!0},5957:function(t,e,n){var r=n(9754),o=n(9489),i=n(430),a=n(9100);function s(e){var n="function"==typeof Map?new Map:void 0;return t.exports=s=function(t){if(null===t||!i(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return a(t,arguments,r(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o(e,t)},t.exports.default=t.exports,t.exports.__esModule=!0,s(e)}t.exports=s,t.exports.default=t.exports,t.exports.__esModule=!0},5087:function(t,e,n){var r;!function(o,i,a,s){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],l=i.createElement("div"),p=Math.round,f=Math.abs,h=Date.now;function d(t,e,n){return setTimeout(E(t,n),e)}function v(t,e,n){return!!Array.isArray(t)&&(g(t,n[e],n),!0)}function g(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function m(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var y=m((function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===s)&&(t[r[o]]=e[r[o]]),o++;return t}),"extend","Use `assign`."),b=m((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function w(t,e,n){var r,o=e.prototype;(r=t.prototype=Object.create(o)).constructor=t,r._super=o,n&&u(r,n)}function E(t,e){return function(){return t.apply(e,arguments)}}function P(t,e){return"function"==typeof t?t.apply(e&&e[0]||s,e):t}function S(t,e){return t===s?e:t}function O(t,e,n){g(C(e),(function(e){t.addEventListener(e,n,!1)}))}function x(t,e,n){g(C(e),(function(e){t.removeEventListener(e,n,!1)}))}function R(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function _(t,e){return t.indexOf(e)>-1}function C(t){return t.trim().split(/\s+/g)}function M(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function k(t){return Array.prototype.slice.call(t,0)}function j(t,e,n){for(var r=[],o=[],i=0;i<t.length;){var a=e?t[i][e]:t[i];M(o,a)<0&&r.push(t[i]),o[i]=a,i++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function T(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),i=0;i<c.length;){if((r=(n=c[i])?n+o:e)in t)return r;i++}return s}var I=1;function D(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}var A="ontouchstart"in o,z=T(o,"PointerEvent")!==s,B=A&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F="touch",N="mouse",L=24,H=["x","y"],G=["clientX","clientY"];function V(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){P(t.options.enable,[t])&&n.handler(e)},this.init()}function W(t,e,n){var r=n.pointers.length,o=n.changedPointers.length,i=1&e&&r-o==0,a=12&e&&r-o==0;n.isFirst=!!i,n.isFinal=!!a,i&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,o=r.length;n.firstInput||(n.firstInput=Z(e));o>1&&!n.firstMultiple?n.firstMultiple=Z(e):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,u=a?a.center:i.center,c=e.center=q(r);e.timeStamp=h(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=K(u,c),e.distance=Y(u,c),function(t,e){var n=e.center,r=t.offsetDelta||{},o=t.prevDelta||{},i=t.prevInput||{};1!==e.eventType&&4!==i.eventType||(o=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=o.x+(n.x-r.x),e.deltaY=o.y+(n.y-r.y)}(n,e),e.offsetDirection=U(e.deltaX,e.deltaY);var l=X(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=f(l.x)>f(l.y)?l.x:l.y,e.scale=a?(p=a.pointers,d=r,Y(d[0],d[1],G)/Y(p[0],p[1],G)):1,e.rotation=a?function(t,e){return K(e[1],e[0],G)+K(t[1],t[0],G)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,o,i,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(u>25||a.velocity===s)){var c=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,p=X(u,c,l);r=p.x,o=p.y,n=f(p.x)>f(p.y)?p.x:p.y,i=U(c,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=i}(n,e);var p,d;var v=t.element;R(e.srcEvent.target,v)&&(v=e.srcEvent.target);e.target=v}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function Z(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:p(t.pointers[n].clientX),clientY:p(t.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:e,center:q(e),deltaX:t.deltaX,deltaY:t.deltaY}}function q(t){var e=t.length;if(1===e)return{x:p(t[0].clientX),y:p(t[0].clientY)};for(var n=0,r=0,o=0;o<e;)n+=t[o].clientX,r+=t[o].clientY,o++;return{x:p(n/e),y:p(r/e)}}function X(t,e,n){return{x:e/t||0,y:n/t||0}}function U(t,e){return t===e?1:f(t)>=f(e)?t<0?2:4:e<0?8:16}function Y(t,e,n){n||(n=H);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(r*r+o*o)}function K(t,e,n){n||(n=H);var r=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return 180*Math.atan2(o,r)/Math.PI}V.prototype={handler:function(){},init:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(D(this.element),this.evWin,this.domHandler)}};var $={mousedown:1,mousemove:2,mouseup:4},J="mousedown",Q="mousemove mouseup";function tt(){this.evEl=J,this.evWin=Q,this.pressed=!1,V.apply(this,arguments)}w(tt,V,{handler:function(t){var e=$[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:N,srcEvent:t}))}});var et={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},nt={2:F,3:"pen",4:N,5:"kinect"},rt="pointerdown",ot="pointermove pointerup pointercancel";function it(){this.evEl=rt,this.evWin=ot,V.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(rt="MSPointerDown",ot="MSPointerMove MSPointerUp MSPointerCancel"),w(it,V,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),o=et[r],i=nt[t.pointerType]||t.pointerType,a=i==F,s=M(e,t.pointerId,"pointerId");1&o&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&o&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),n&&e.splice(s,1))}});var at={touchstart:1,touchmove:2,touchend:4,touchcancel:8},st="touchstart",ut="touchstart touchmove touchend touchcancel";function ct(){this.evTarget=st,this.evWin=ut,this.started=!1,V.apply(this,arguments)}function lt(t,e){var n=k(t.touches),r=k(t.changedTouches);return 12&e&&(n=j(n.concat(r),"identifier",!0)),[n,r]}w(ct,V,{handler:function(t){var e=at[t.type];if(1===e&&(this.started=!0),this.started){var n=lt.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:F,srcEvent:t})}}});var pt={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ft="touchstart touchmove touchend touchcancel";function ht(){this.evTarget=ft,this.targetIds={},V.apply(this,arguments)}function dt(t,e){var n=k(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=k(t.changedTouches),s=[],u=this.target;if(i=n.filter((function(t){return R(t.target,u)})),1===e)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&s.push(a[o]),12&e&&delete r[a[o].identifier],o++;return s.length?[j(i.concat(s),"identifier",!0),s]:void 0}w(ht,V,{handler:function(t){var e=pt[t.type],n=dt.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:F,srcEvent:t})}});function vt(){V.apply(this,arguments);var t=E(this.handler,this);this.touch=new ht(this.manager,t),this.mouse=new tt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function gt(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,mt.call(this,e)):12&t&&mt.call(this,e)}function mt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function yt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(e-o.x),a=Math.abs(n-o.y);if(i<=25&&a<=25)return!0}return!1}w(vt,V,{handler:function(t,e,n){var r=n.pointerType==F,o=n.pointerType==N;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)gt.call(this,e,n);else if(o&&yt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var bt=T(l.style,"touchAction"),wt=bt!==s,Et="compute",Pt="auto",St="manipulation",Ot="none",xt="pan-x",Rt="pan-y",_t=function(){if(!wt)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||o.CSS.supports("touch-action",n)})),t}();function Ct(t,e){this.manager=t,this.set(e)}Ct.prototype={set:function(t){t==Et&&(t=this.compute()),wt&&this.manager.element.style&&_t[t]&&(this.manager.element.style[bt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,(function(e){P(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(_(t,Ot))return Ot;var e=_(t,xt),n=_(t,Rt);if(e&&n)return Ot;if(e||n)return e?xt:Rt;if(_(t,St))return St;return Pt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,o=_(r,Ot)&&!_t.none,i=_(r,Rt)&&!_t["pan-y"],a=_(r,xt)&&!_t["pan-x"];if(o){var s=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(s&&u&&c)return}if(!a||!i)return o||i&&6&n||a&&n&L?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Mt=32;function kt(t){this.options=u({},this.defaults,t||{}),this.id=I++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function jt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function Tt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function It(t,e){var n=e.manager;return n?n.get(t):t}function Dt(){kt.apply(this,arguments)}function At(){Dt.apply(this,arguments),this.pX=null,this.pY=null}function zt(){Dt.apply(this,arguments)}function Bt(){kt.apply(this,arguments),this._timer=null,this._input=null}function Ft(){Dt.apply(this,arguments)}function Nt(){Dt.apply(this,arguments)}function Lt(){kt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ht(t,e){return(e=e||{}).recognizers=S(e.recognizers,Ht.defaults.preset),new Gt(t,e)}kt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(v(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=It(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return v(t,"dropRecognizeWith",this)||(t=It(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(v(t,"requireFailure",this))return this;var e=this.requireFail;return-1===M(e,t=It(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this))return this;t=It(t,this);var e=M(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+jt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+jt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=Mt},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!P(this.options.enable,[this,e]))return this.reset(),void(this.state=Mt);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},w(Dt,kt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,o=this.attrTest(t);return r&&(8&n||!o)?16|e:r||o?4&n?8|e:2&e?4|e:2:Mt}}),w(At,Dt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push(Rt),t&L&&e.push(xt),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,o=t.direction,i=t.deltaX,a=t.deltaY;return o&e.direction||(6&e.direction?(o=0===i?1:i<0?2:4,n=i!=this.pX,r=Math.abs(t.deltaX)):(o=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=o,n&&r>e.threshold&&o&e.direction},attrTest:function(t){return Dt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Tt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),w(zt,Dt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ot]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),w(Bt,kt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Pt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!o)this.reset();else if(1&t.eventType)this.reset(),this._timer=d((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return Mt},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),w(Ft,Dt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ot]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),w(Nt,Dt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return At.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:n&L&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=Tt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),w(Lt,kt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[St]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&o&&n){if(4!=t.eventType)return this.failTimeout();var i=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||Y(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&i?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=d((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return Mt},failTimeout:function(){return this._timer=d((function(){this.state=Mt}),this.options.interval,this),Mt},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ht.VERSION="2.0.7",Ht.defaults={domEvents:!1,touchAction:Et,enable:!0,inputTarget:null,inputClass:null,preset:[[Ft,{enable:!1}],[zt,{enable:!1},["rotate"]],[Nt,{direction:6}],[At,{direction:6},["swipe"]],[Lt],[Lt,{event:"doubletap",taps:2},["tap"]],[Bt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Gt(t,e){var n;this.options=u({},Ht.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(z?it:B?ht:A?vt:tt))(n,W),this.touchAction=new Ct(this,this.options.touchAction),Vt(this,!0),g(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Vt(t,e){var n,r=t.element;r.style&&(g(t.options.cssProps,(function(o,i){n=T(r.style,i),e?(t.oldCssProps[n]=r.style[n],r.style[n]=o):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}Gt.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,o=e.curRecognizer;(!o||o&&8&o.state)&&(o=e.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],2===e.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&14&n.state&&(o=e.curRecognizer=n),i++}},get:function(t){if(t instanceof kt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(v(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(v(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=M(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return g(C(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==s){var n=this.handlers;return g(C(t),(function(t){e?n[t]&&n[t].splice(M(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Vt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Ht,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Mt,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:L,DIRECTION_ALL:30,Manager:Gt,Input:V,TouchAction:Ct,TouchInput:ht,MouseInput:tt,PointerEventInput:it,TouchMouseInput:vt,SingleTouchInput:ct,Recognizer:kt,AttrRecognizer:Dt,Tap:Lt,Pan:At,Swipe:Nt,Pinch:zt,Rotate:Ft,Press:Bt,on:O,off:x,each:g,merge:b,extend:y,assign:u,inherit:w,bindFn:E,prefixed:T}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=Ht,(r=function(){return Ht}.call(e,n,e,t))===s||(t.exports=r)}(window,document)},2467:function(t,e,n){var r=n(7757);!function(t,e){"use strict";function n(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function s(t){n(a,o,i,s,u,"next",t)}function u(t){n(a,o,i,s,u,"throw",t)}s(void 0)}))}}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function a(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}function s(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var u={init:"init"},c=function(t){var e=t.value;return void 0===e?"":e},l=function(){return e.createElement(e.Fragment,null," ")},p={Cell:c,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function f(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){var n=e.style,r=e.className;return t=i({},t,{},a(e,["style","className"])),n&&(t.style=t.style?i({},t.style||{},{},n||{}):n),r&&(t.className=t.className?t.className+" "+r:r),""===t.className&&delete t.className,t}),{})}var h=function(t,e){return void 0===e&&(e={}),function(n){return void 0===n&&(n={}),[].concat(t,[n]).reduce((function(t,r){return function t(e,n,r){return"function"==typeof n?t({},n(e,r)):Array.isArray(n)?f.apply(void 0,[e].concat(n)):f(e,n)}(t,r,i({},e,{userProps:n}))}),{})}},d=function(t,e,n,r){return void 0===n&&(n={}),t.reduce((function(t,e){return e(t,n)}),e)},v=function(t,e,n){return void 0===n&&(n={}),t.forEach((function(t){t(e,n)}))};function g(t,e,n,r){t.findIndex((function(t){return t.pluginName===n})),e.forEach((function(e){t.findIndex((function(t){return t.pluginName===e}))}))}function m(t,e){return"function"==typeof t?t(e):t}function y(t){var n=e.useRef();return n.current=t,e.useCallback((function(){return n.current}),[])}var b="undefined"!=typeof document?e.useLayoutEffect:e.useEffect;function w(t,n){var r=e.useRef(!1);b((function(){r.current&&t(),r.current=!0}),n)}function E(t,e,n){return void 0===n&&(n={}),function(r,o){void 0===o&&(o={});var a="string"==typeof r?e[r]:r;if(void 0===a)throw console.info(e),new Error("Renderer Error ☝️");return P(a,i({},t,{column:e},n,{},o))}}function P(t,n){return function(t){return"function"==typeof t&&(e=Object.getPrototypeOf(t)).prototype&&e.prototype.isReactComponent;var e}(r=t)||"function"==typeof r||function(t){return"object"==typeof t&&"symbol"==typeof t.$$typeof&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}(r)?e.createElement(t,n):t;var r}function S(t,e,n){return void 0===n&&(n=0),t.map((function(t){return x(t=i({},t,{parent:e,depth:n})),t.columns&&(t.columns=S(t.columns,t,n+1)),t}))}function O(t){return j(t,"columns")}function x(t){var e=t.id,n=t.accessor,r=t.Header;if("string"==typeof n){e=e||n;var o=n.split(".");n=function(t){return function(t,e,n){if(!e)return t;var r,o="function"==typeof e?e:JSON.stringify(e),i=C.get(o)||function(){var t=function(t){return function t(e,n){if(void 0===n&&(n=[]),Array.isArray(e))for(var r=0;r<e.length;r+=1)t(e[r],n);else n.push(e);return n}(t).map((function(t){return String(t).replace(".","_")})).join(".").replace(B,".").replace(F,"").split(".")}(e);return C.set(o,t),t}();try{r=i.reduce((function(t,e){return t[e]}),t)}catch(t){}return void 0!==r?r:n}(t,o)}}if(!e&&"string"==typeof r&&r&&(e=r),!e&&t.columns)throw console.error(t),new Error('A column ID (or unique "Header" value) is required!');if(!e)throw console.error(t),new Error("A column ID (or string accessor) is required!");return Object.assign(t,{id:e,accessor:n}),t}function R(t,e){if(!e)throw new Error;return Object.assign(t,i({Header:l,Footer:l},p,{},e,{},t)),Object.assign(t,{originalWidth:t.width}),t}function _(t,e,n){void 0===n&&(n=function(){return{}});for(var r=[],o=t,a=0,s=function(){return a++},u=function(){var t={headers:[]},a=[],u=o.some((function(t){return t.parent}));o.forEach((function(r){var o,c=[].concat(a).reverse()[0];u&&(o=r.parent?i({},r.parent,{originalId:r.parent.id,id:r.parent.id+"_"+s(),headers:[r]},n(r)):R(i({originalId:r.id+"_placeholder",id:r.id+"_placeholder_"+s(),placeholderOf:r,headers:[r]},n(r)),e),c&&c.originalId===o.originalId?c.headers.push(r):a.push(o)),t.headers.push(r)})),r.push(t),o=a};o.length;)u();return r.reverse()}var C=new Map;function M(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0;r<e.length;r+=1)if(void 0!==e[r])return e[r]}function k(t){if("function"==typeof t)return t}function j(t,e){var n=[];return function t(r){r.forEach((function(r){r[e]?t(r[e]):n.push(r)}))}(t),n}function T(t,e){var n=e.manualExpandedKey,r=e.expanded,o=e.expandSubRows,i=void 0===o||o,a=[];return t.forEach((function(t){return function t(e,o){void 0===o&&(o=!0),e.isExpanded=e.original&&e.original[n]||r[e.id],e.canExpand=e.subRows&&!!e.subRows.length,o&&a.push(e),e.subRows&&e.subRows.length&&e.isExpanded&&e.subRows.forEach((function(e){return t(e,i)}))}(t)})),a}function I(t,e,n){return k(t)||e[t]||n[t]||n.text}function D(t,e,n){return t?t(e,n):void 0===e}function A(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var z=null,B=/\[/g,F=/\]/g,N=function(t){return i({role:"table"},t)},L=function(t){return i({role:"rowgroup"},t)},H=function(t,e){var n=e.column;return i({key:"header_"+n.id,colSpan:n.totalVisibleHeaderCount,role:"columnheader"},t)},G=function(t,e){var n=e.column;return i({key:"footer_"+n.id,colSpan:n.totalVisibleHeaderCount},t)},V=function(t,e){return i({key:"headerGroup_"+e.index,role:"row"},t)},W=function(t,e){return i({key:"footerGroup_"+e.index},t)},Z=function(t,e){return i({key:"row_"+e.row.id,role:"row"},t)},q=function(t,e){var n=e.cell;return i({key:"cell_"+n.row.id+"_"+n.column.id,role:"cell"},t)};function X(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[N],getTableBodyProps:[L],getHeaderGroupProps:[V],getFooterGroupProps:[W],getHeaderProps:[H],getFooterProps:[G],getRowProps:[Z],getCellProps:[q],useFinalInstance:[]}}u.resetHiddenColumns="resetHiddenColumns",u.toggleHideColumn="toggleHideColumn",u.setHiddenColumns="setHiddenColumns",u.toggleHideAllColumns="toggleHideAllColumns";var U=function(t){t.getToggleHiddenProps=[Y],t.getToggleHideAllColumnsProps=[K],t.stateReducers.push($),t.useInstanceBeforeDimensions.push(J),t.headerGroupsDeps.push((function(t,e){var n=e.instance;return[].concat(t,[n.state.hiddenColumns])})),t.useInstance.push(Q)};U.pluginName="useColumnVisibility";var Y=function(t,e){var n=e.column;return[t,{onChange:function(t){n.toggleHidden(!t.target.checked)},style:{cursor:"pointer"},checked:n.isVisible,title:"Toggle Column Visible"}]},K=function(t,e){var n=e.instance;return[t,{onChange:function(t){n.toggleHideAllColumns(!t.target.checked)},style:{cursor:"pointer"},checked:!n.allColumnsHidden&&!n.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!n.allColumnsHidden&&n.state.hiddenColumns.length}]};function $(t,e,n,r){if(e.type===u.init)return i({hiddenColumns:[]},t);if(e.type===u.resetHiddenColumns)return i({},t,{hiddenColumns:r.initialState.hiddenColumns||[]});if(e.type===u.toggleHideColumn){var o=(void 0!==e.value?e.value:!t.hiddenColumns.includes(e.columnId))?[].concat(t.hiddenColumns,[e.columnId]):t.hiddenColumns.filter((function(t){return t!==e.columnId}));return i({},t,{hiddenColumns:o})}return e.type===u.setHiddenColumns?i({},t,{hiddenColumns:m(e.value,t.hiddenColumns)}):e.type===u.toggleHideAllColumns?i({},t,{hiddenColumns:(void 0!==e.value?e.value:!t.hiddenColumns.length)?r.allColumns.map((function(t){return t.id})):[]}):void 0}function J(t){var n=t.headers,r=t.state.hiddenColumns;e.useRef(!1).current;var o=0;n.forEach((function(t){return o+=function t(e,n){e.isVisible=n&&!r.includes(e.id);var o=0;return e.headers&&e.headers.length?e.headers.forEach((function(n){return o+=t(n,e.isVisible)})):o=e.isVisible?1:0,e.totalVisibleHeaderCount=o,o}(t,!0)}))}function Q(t){var n=t.columns,r=t.flatHeaders,o=t.dispatch,i=t.allColumns,a=t.getHooks,s=t.state.hiddenColumns,c=t.autoResetHiddenColumns,l=void 0===c||c,p=y(t),f=i.length===s.length,d=e.useCallback((function(t,e){return o({type:u.toggleHideColumn,columnId:t,value:e})}),[o]),v=e.useCallback((function(t){return o({type:u.setHiddenColumns,value:t})}),[o]),g=e.useCallback((function(t){return o({type:u.toggleHideAllColumns,value:t})}),[o]),m=h(a().getToggleHideAllColumnsProps,{instance:p()});r.forEach((function(t){t.toggleHidden=function(e){o({type:u.toggleHideColumn,columnId:t.id,value:e})},t.getToggleHiddenProps=h(a().getToggleHiddenProps,{instance:p(),column:t})}));var b=y(l);w((function(){b()&&o({type:u.resetHiddenColumns})}),[o,n]),Object.assign(t,{allColumnsHidden:f,toggleHideColumn:d,setHiddenColumns:v,toggleHideAllColumns:g,getToggleHideAllColumnsProps:m})}var tt={},et={},nt=function(t,e,n){return t},rt=function(t,e){return t.subRows||[]},ot=function(t,e,n){return""+(n?[n.id,e].join("."):e)},it=function(t){return t};function at(t){var e=t.initialState,n=void 0===e?tt:e,r=t.defaultColumn,o=void 0===r?et:r,s=t.getSubRows,u=void 0===s?rt:s,c=t.getRowId,l=void 0===c?ot:c,p=t.stateReducer,f=void 0===p?nt:p,h=t.useControlledState,d=void 0===h?it:h;return i({},a(t,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:n,defaultColumn:o,getSubRows:u,getRowId:l,stateReducer:f,useControlledState:d})}function st(t,e){void 0===e&&(e=0);var n=0,r=0,o=0,i=0;return t.forEach((function(t){var a=t.headers;if(t.totalLeft=e,a&&a.length){var s=st(a,e),u=s[0],c=s[1],l=s[2],p=s[3];t.totalMinWidth=u,t.totalWidth=c,t.totalMaxWidth=l,t.totalFlexWidth=p}else t.totalMinWidth=t.minWidth,t.totalWidth=Math.min(Math.max(t.minWidth,t.width),t.maxWidth),t.totalMaxWidth=t.maxWidth,t.totalFlexWidth=t.canResize?t.totalWidth:0;t.isVisible&&(e+=t.totalWidth,n+=t.totalMinWidth,r+=t.totalWidth,o+=t.totalMaxWidth,i+=t.totalFlexWidth)})),[n,r,o,i]}function ut(t){var e=t.data,n=t.rows,r=t.flatRows,o=t.rowsById,i=t.column,a=t.getRowId,s=t.getSubRows,u=t.accessValueHooks,c=t.getInstance;e.forEach((function(t,l){return function t(n,l,p,f,h){void 0===p&&(p=0);var v=n,g=a(n,l,f),m=o[g];if(m)m.subRows&&m.originalSubRows.forEach((function(e,n){return t(e,n,p+1,m)}));else if((m={id:g,original:v,index:l,depth:p,cells:[{}]}).cells.map=A,m.cells.filter=A,m.cells.forEach=A,m.cells[0].getCellProps=A,m.values={},h.push(m),r.push(m),o[g]=m,m.originalSubRows=s(n,l),m.originalSubRows){var y=[];m.originalSubRows.forEach((function(e,n){return t(e,n,p+1,m,y)})),m.subRows=y}i.accessor&&(m.values[i.id]=i.accessor(n,l,m,h,e)),m.values[i.id]=d(u,m.values[i.id],{row:m,column:i,instance:c()})}(t,l,0,void 0,n)}))}u.resetExpanded="resetExpanded",u.toggleRowExpanded="toggleRowExpanded",u.toggleAllRowsExpanded="toggleAllRowsExpanded";var ct=function(t){t.getToggleAllRowsExpandedProps=[lt],t.getToggleRowExpandedProps=[pt],t.stateReducers.push(ft),t.useInstance.push(ht),t.prepareRow.push(dt)};ct.pluginName="useExpanded";var lt=function(t,e){var n=e.instance;return[t,{onClick:function(t){n.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},pt=function(t,e){var n=e.row;return[t,{onClick:function(){n.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function ft(t,e,n,r){if(e.type===u.init)return i({expanded:{}},t);if(e.type===u.resetExpanded)return i({},t,{expanded:r.initialState.expanded||{}});if(e.type===u.toggleAllRowsExpanded){var o=e.value,c=r.isAllRowsExpanded,l=r.rowsById;if(void 0!==o?o:!c){var p={};return Object.keys(l).forEach((function(t){p[t]=!0})),i({},t,{expanded:p})}return i({},t,{expanded:{}})}if(e.type===u.toggleRowExpanded){var f,h=e.id,d=e.value,v=t.expanded[h],g=void 0!==d?d:!v;if(!v&&g)return i({},t,{expanded:i({},t.expanded,(f={},f[h]=!0,f))});if(v&&!g){var m=t.expanded;return m[h],i({},t,{expanded:a(m,[h].map(s))})}return t}}function ht(t){var n=t.data,r=t.rows,o=t.rowsById,i=t.manualExpandedKey,a=void 0===i?"expanded":i,s=t.paginateExpandedRows,c=void 0===s||s,l=t.expandSubRows,p=void 0===l||l,f=t.autoResetExpanded,d=void 0===f||f,v=t.getHooks,m=t.plugins,b=t.state.expanded,E=t.dispatch;g(m,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var P=y(d),S=Boolean(Object.keys(o).length&&Object.keys(b).length);S&&Object.keys(o).some((function(t){return!b[t]}))&&(S=!1),w((function(){P()&&E({type:u.resetExpanded})}),[E,n]);var O=e.useCallback((function(t,e){E({type:u.toggleRowExpanded,id:t,value:e})}),[E]),x=e.useCallback((function(t){return E({type:u.toggleAllRowsExpanded,value:t})}),[E]),R=e.useMemo((function(){return c?T(r,{manualExpandedKey:a,expanded:b,expandSubRows:p}):r}),[c,r,a,b,p]),_=e.useMemo((function(){return function(t){var e=0;return Object.keys(t).forEach((function(t){var n=t.split(".");e=Math.max(e,n.length)})),e}(b)}),[b]),C=y(t),M=h(v().getToggleAllRowsExpandedProps,{instance:C()});Object.assign(t,{preExpandedRows:r,expandedRows:R,rows:R,expandedDepth:_,isAllRowsExpanded:S,toggleRowExpanded:O,toggleAllRowsExpanded:x,getToggleAllRowsExpandedProps:M})}function dt(t,e){var n=e.instance.getHooks,r=e.instance;t.toggleRowExpanded=function(e){return r.toggleRowExpanded(t.id,e)},t.getToggleRowExpandedProps=h(n().getToggleRowExpandedProps,{instance:r,row:t})}var vt=function(t,e,n){return t.filter((function(t){return e.some((function(e){var r=t.values[e];return String(r).toLowerCase().includes(String(n).toLowerCase())}))}))};vt.autoRemove=function(t){return!t};var gt=function(t,e,n){return t.filter((function(t){return e.some((function(e){var r=t.values[e];return void 0===r||String(r).toLowerCase()===String(n).toLowerCase()}))}))};gt.autoRemove=function(t){return!t};var mt=function(t,e,n){return t.filter((function(t){return e.some((function(e){var r=t.values[e];return void 0===r||String(r)===String(n)}))}))};mt.autoRemove=function(t){return!t};var yt=function(t,e,n){return t.filter((function(t){return e.some((function(e){return t.values[e].includes(n)}))}))};yt.autoRemove=function(t){return!t||!t.length};var bt=function(t,e,n){return t.filter((function(t){return e.some((function(e){var r=t.values[e];return r&&r.length&&n.every((function(t){return r.includes(t)}))}))}))};bt.autoRemove=function(t){return!t||!t.length};var wt=function(t,e,n){return t.filter((function(t){return e.some((function(e){var r=t.values[e];return r&&r.length&&n.some((function(t){return r.includes(t)}))}))}))};wt.autoRemove=function(t){return!t||!t.length};var Et=function(t,e,n){return t.filter((function(t){return e.some((function(e){var r=t.values[e];return n.includes(r)}))}))};Et.autoRemove=function(t){return!t||!t.length};var Pt=function(t,e,n){return t.filter((function(t){return e.some((function(e){return t.values[e]===n}))}))};Pt.autoRemove=function(t){return void 0===t};var St=function(t,e,n){return t.filter((function(t){return e.some((function(e){return t.values[e]==n}))}))};St.autoRemove=function(t){return null==t};var Ot=function(t,e,n){var r=n||[],o=r[0],i=r[1];if((o="number"==typeof o?o:-1/0)>(i="number"==typeof i?i:1/0)){var a=o;o=i,i=a}return t.filter((function(t){return e.some((function(e){var n=t.values[e];return n>=o&&n<=i}))}))};Ot.autoRemove=function(t){return!t||"number"!=typeof t[0]&&"number"!=typeof t[1]};var xt=Object.freeze({__proto__:null,text:vt,exactText:gt,exactTextCase:mt,includes:yt,includesAll:bt,includesSome:wt,includesValue:Et,exact:Pt,equals:St,between:Ot});u.resetFilters="resetFilters",u.setFilter="setFilter",u.setAllFilters="setAllFilters";var Rt=function(t){t.stateReducers.push(_t),t.useInstance.push(Ct)};function _t(t,e,n,r){if(e.type===u.init)return i({filters:[]},t);if(e.type===u.resetFilters)return i({},t,{filters:r.initialState.filters||[]});if(e.type===u.setFilter){var o=e.columnId,a=e.filterValue,s=r.allColumns,c=r.filterTypes,l=s.find((function(t){return t.id===o}));if(!l)throw new Error("React-Table: Could not find a column with id: "+o);var p=I(l.filter,c||{},xt),f=t.filters.find((function(t){return t.id===o})),h=m(a,f&&f.value);return D(p.autoRemove,h,l)?i({},t,{filters:t.filters.filter((function(t){return t.id!==o}))}):i({},t,f?{filters:t.filters.map((function(t){return t.id===o?{id:o,value:h}:t}))}:{filters:[].concat(t.filters,[{id:o,value:h}])})}if(e.type===u.setAllFilters){var d=e.filters,v=r.allColumns,g=r.filterTypes;return i({},t,{filters:m(d,t.filters).filter((function(t){var e=v.find((function(e){return e.id===t.id}));return!D(I(e.filter,g||{},xt).autoRemove,t.value,e)}))})}}function Ct(t){var n=t.data,r=t.rows,o=t.flatRows,i=t.rowsById,a=t.allColumns,s=t.filterTypes,c=t.manualFilters,l=t.defaultCanFilter,p=void 0!==l&&l,f=t.disableFilters,h=t.state.filters,d=t.dispatch,v=t.autoResetFilters,g=void 0===v||v,m=e.useCallback((function(t,e){d({type:u.setFilter,columnId:t,filterValue:e})}),[d]),b=e.useCallback((function(t){d({type:u.setAllFilters,filters:t})}),[d]);a.forEach((function(t){var e=t.id,n=t.accessor,r=t.defaultCanFilter,o=t.disableFilters;t.canFilter=n?M(!0!==o&&void 0,!0!==f&&void 0,!0):M(r,p,!1),t.setFilter=function(e){return m(t.id,e)};var i=h.find((function(t){return t.id===e}));t.filterValue=i&&i.value}));var E=e.useMemo((function(){if(c||!h.length)return[r,o,i];var t=[],e={};return[function n(r,o){void 0===o&&(o=0);var i=r;return(i=h.reduce((function(t,e){var n=e.id,r=e.value,i=a.find((function(t){return t.id===n}));if(!i)return t;0===o&&(i.preFilteredRows=t);var u=I(i.filter,s||{},xt);return u?(i.filteredRows=u(t,[n],r),i.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+i.id+"."),t)}),r)).forEach((function(r){t.push(r),e[r.id]=r,r.subRows&&(r.subRows=r.subRows&&r.subRows.length>0?n(r.subRows,o+1):r.subRows)})),i}(r),t,e]}),[c,h,r,o,i,a,s]),P=E[0],S=E[1],O=E[2];e.useMemo((function(){a.filter((function(t){return!h.find((function(e){return e.id===t.id}))})).forEach((function(t){t.preFilteredRows=P,t.filteredRows=P}))}),[P,h,a]);var x=y(g);w((function(){x()&&d({type:u.resetFilters})}),[d,c?null:n]),Object.assign(t,{preFilteredRows:r,preFilteredFlatRows:o,preFilteredRowsById:i,filteredRows:P,filteredFlatRows:S,filteredRowsById:O,rows:P,flatRows:S,rowsById:O,setFilter:m,setAllFilters:b})}Rt.pluginName="useFilters",u.resetGlobalFilter="resetGlobalFilter",u.setGlobalFilter="setGlobalFilter";var Mt=function(t){t.stateReducers.push(kt),t.useInstance.push(jt)};function kt(t,e,n,r){if(e.type===u.resetGlobalFilter)return i({},t,{globalFilter:r.initialState.globalFilter||void 0});if(e.type===u.setGlobalFilter){var o=e.filterValue,s=r.userFilterTypes,c=I(r.globalFilter,s||{},xt),l=m(o,t.globalFilter);return D(c.autoRemove,l)?(t.globalFilter,a(t,["globalFilter"])):i({},t,{globalFilter:l})}}function jt(t){var n=t.data,r=t.rows,o=t.flatRows,i=t.rowsById,a=t.allColumns,s=t.filterTypes,c=t.globalFilter,l=t.manualGlobalFilter,p=t.state.globalFilter,f=t.dispatch,h=t.autoResetGlobalFilter,d=void 0===h||h,v=t.disableGlobalFilter,g=e.useCallback((function(t){f({type:u.setGlobalFilter,filterValue:t})}),[f]),m=e.useMemo((function(){if(l||void 0===p)return[r,o,i];var t=[],e={},n=I(c,s||{},xt);if(!n)return console.warn("Could not find a valid 'globalFilter' option."),r;a.forEach((function(t){var e=t.disableGlobalFilter;t.canFilter=M(!0!==e&&void 0,!0!==v&&void 0,!0)}));var u=a.filter((function(t){return!0===t.canFilter}));return[function r(o){return(o=n(o,u.map((function(t){return t.id})),p)).forEach((function(n){t.push(n),e[n.id]=n,n.subRows=n.subRows&&n.subRows.length?r(n.subRows):n.subRows})),o}(r),t,e]}),[l,p,c,s,a,r,o,i,v]),b=m[0],E=m[1],P=m[2],S=y(d);w((function(){S()&&f({type:u.resetGlobalFilter})}),[f,l?null:n]),Object.assign(t,{preGlobalFilteredRows:r,preGlobalFilteredFlatRows:o,preGlobalFilteredRowsById:i,globalFilteredRows:b,globalFilteredFlatRows:E,globalFilteredRowsById:P,rows:b,flatRows:E,rowsById:P,setGlobalFilter:g,disableGlobalFilter:v})}function Tt(t,e){return e.reduce((function(t,e){return t+("number"==typeof e?e:0)}),0)}Mt.pluginName="useGlobalFilter";var It=Object.freeze({__proto__:null,sum:Tt,min:function(t){var e=t[0]||0;return t.forEach((function(t){"number"==typeof t&&(e=Math.min(e,t))})),e},max:function(t){var e=t[0]||0;return t.forEach((function(t){"number"==typeof t&&(e=Math.max(e,t))})),e},minMax:function(t){var e=t[0]||0,n=t[0]||0;return t.forEach((function(t){"number"==typeof t&&(e=Math.min(e,t),n=Math.max(n,t))})),e+".."+n},average:function(t){return Tt(0,t)/t.length},median:function(t){if(!t.length)return null;var e=Math.floor(t.length/2),n=[].concat(t).sort((function(t,e){return t-e}));return t.length%2!=0?n[e]:(n[e-1]+n[e])/2},unique:function(t){return Array.from(new Set(t).values())},uniqueCount:function(t){return new Set(t).size},count:function(t){return t.length}}),Dt=[],At={};u.resetGroupBy="resetGroupBy",u.setGroupBy="setGroupBy",u.toggleGroupBy="toggleGroupBy";var zt=function(t){t.getGroupByToggleProps=[Bt],t.stateReducers.push(Ft),t.visibleColumnsDeps.push((function(t,e){var n=e.instance;return[].concat(t,[n.state.groupBy])})),t.visibleColumns.push(Nt),t.useInstance.push(Ht),t.prepareRow.push(Gt)};zt.pluginName="useGroupBy";var Bt=function(t,e){var n=e.header;return[t,{onClick:n.canGroupBy?function(t){t.persist(),n.toggleGroupBy()}:void 0,style:{cursor:n.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function Ft(t,e,n,r){if(e.type===u.init)return i({groupBy:[]},t);if(e.type===u.resetGroupBy)return i({},t,{groupBy:r.initialState.groupBy||[]});if(e.type===u.setGroupBy)return i({},t,{groupBy:e.value});if(e.type===u.toggleGroupBy){var o=e.columnId,a=e.value,s=void 0!==a?a:!t.groupBy.includes(o);return i({},t,s?{groupBy:[].concat(t.groupBy,[o])}:{groupBy:t.groupBy.filter((function(t){return t!==o}))})}}function Nt(t,e){var n=e.instance.state.groupBy,r=n.map((function(e){return t.find((function(t){return t.id===e}))})).filter(Boolean),o=t.filter((function(t){return!n.includes(t.id)}));return(t=[].concat(r,o)).forEach((function(t){t.isGrouped=n.includes(t.id),t.groupedIndex=n.indexOf(t.id)})),t}var Lt={};function Ht(t){var n=t.data,r=t.rows,o=t.flatRows,i=t.rowsById,a=t.allColumns,s=t.flatHeaders,c=t.groupByFn,l=void 0===c?Vt:c,p=t.manualGroupBy,f=t.aggregations,d=void 0===f?Lt:f,v=t.plugins,m=t.state.groupBy,b=t.dispatch,E=t.autoResetGroupBy,P=void 0===E||E,S=t.disableGroupBy,O=t.defaultCanGroupBy,x=t.getHooks;g(v,["useColumnOrder","useFilters"],"useGroupBy");var R=y(t);a.forEach((function(e){var n=e.accessor,r=e.defaultGroupBy,o=e.disableGroupBy;e.canGroupBy=n?M(e.canGroupBy,!0!==o&&void 0,!0!==S&&void 0,!0):M(e.canGroupBy,r,O,!1),e.canGroupBy&&(e.toggleGroupBy=function(){return t.toggleGroupBy(e.id)}),e.Aggregated=e.Aggregated||e.Cell}));var _=e.useCallback((function(t,e){b({type:u.toggleGroupBy,columnId:t,value:e})}),[b]),C=e.useCallback((function(t){b({type:u.setGroupBy,value:t})}),[b]);s.forEach((function(t){t.getGroupByToggleProps=h(x().getGroupByToggleProps,{instance:R(),header:t})}));var k=e.useMemo((function(){if(p||!m.length)return[r,o,i,Dt,At,o,i];var t=m.filter((function(t){return a.find((function(e){return e.id===t}))})),e=[],n={},s=[],u={},c=[],f={},h=function r(o,i,p){if(void 0===i&&(i=0),i===t.length)return o;var h=t[i],v=l(o,h);return Object.entries(v).map((function(o,l){var v=o[0],g=o[1],m=h+":"+v,y=r(g,i+1,m=p?p+">"+m:m),b=i?j(g,"leafRows"):g,w=function(e,n,r){var o={};return a.forEach((function(i){if(t.includes(i.id))o[i.id]=n[0]?n[0].values[i.id]:null;else{var a="function"==typeof i.aggregate?i.aggregate:d[i.aggregate]||It[i.aggregate];if(a){var s=n.map((function(t){return t.values[i.id]})),u=e.map((function(t){var e=t.values[i.id];if(!r&&i.aggregateValue){var n="function"==typeof i.aggregateValue?i.aggregateValue:d[i.aggregateValue]||It[i.aggregateValue];if(!n)throw console.info({column:i}),new Error("React Table: Invalid column.aggregateValue option for column listed above");e=n(e,t,i)}return e}));o[i.id]=a(u,s)}else{if(i.aggregate)throw console.info({column:i}),new Error("React Table: Invalid column.aggregate option for column listed above");o[i.id]=null}}})),o}(b,g,i),E={id:m,isGrouped:!0,groupByID:h,groupByVal:v,values:w,subRows:y,leafRows:b,depth:i,index:l};return y.forEach((function(t){e.push(t),n[t.id]=t,t.isGrouped?(s.push(t),u[t.id]=t):(c.push(t),f[t.id]=t)})),E}))}(r);return h.forEach((function(t){e.push(t),n[t.id]=t,t.isGrouped?(s.push(t),u[t.id]=t):(c.push(t),f[t.id]=t)})),[h,e,n,s,u,c,f]}),[p,m,r,o,i,a,d,l]),T=k[0],I=k[1],D=k[2],A=k[3],z=k[4],B=k[5],F=k[6],N=y(P);w((function(){N()&&b({type:u.resetGroupBy})}),[b,p?null:n]),Object.assign(t,{preGroupedRows:r,preGroupedFlatRow:o,preGroupedRowsById:i,groupedRows:T,groupedFlatRows:I,groupedRowsById:D,onlyGroupedFlatRows:A,onlyGroupedRowsById:z,nonGroupedFlatRows:B,nonGroupedRowsById:F,rows:T,flatRows:I,rowsById:D,toggleGroupBy:_,setGroupBy:C})}function Gt(t){t.allCells.forEach((function(e){var n;e.isGrouped=e.column.isGrouped&&e.column.id===t.groupByID,e.isPlaceholder=!e.isGrouped&&e.column.isGrouped,e.isAggregated=!e.isGrouped&&!e.isPlaceholder&&(null==(n=t.subRows)?void 0:n.length)}))}function Vt(t,e){return t.reduce((function(t,n,r){var o=""+n.values[e];return t[o]=Array.isArray(t[o])?t[o]:[],t[o].push(n),t}),{})}var Wt=/([0-9]+)/gm;function Zt(t,e){return t===e?0:t>e?1:-1}function qt(t,e,n){return[t.values[n],e.values[n]]}function Xt(t){return"number"==typeof t?isNaN(t)||t===1/0||t===-1/0?"":String(t):"string"==typeof t?t:""}var Ut=Object.freeze({__proto__:null,alphanumeric:function(t,e,n){var r=qt(t,e,n),o=r[0],i=r[1];for(o=Xt(o),i=Xt(i),o=o.split(Wt).filter(Boolean),i=i.split(Wt).filter(Boolean);o.length&&i.length;){var a=o.shift(),s=i.shift(),u=parseInt(a,10),c=parseInt(s,10),l=[u,c].sort();if(isNaN(l[0])){if(a>s)return 1;if(s>a)return-1}else{if(isNaN(l[1]))return isNaN(u)?-1:1;if(u>c)return 1;if(c>u)return-1}}return o.length-i.length},datetime:function(t,e,n){var r=qt(t,e,n),o=r[0],i=r[1];return Zt(o=o.getTime(),i=i.getTime())},basic:function(t,e,n){var r=qt(t,e,n);return Zt(r[0],r[1])},string:function(t,e,n){var r=qt(t,e,n),o=r[0],i=r[1];for(o=o.split("").filter(Boolean),i=i.split("").filter(Boolean);o.length&&i.length;){var a=o.shift(),s=i.shift(),u=a.toLowerCase(),c=s.toLowerCase();if(u>c)return 1;if(c>u)return-1;if(a>s)return 1;if(s>a)return-1}return o.length-i.length},number:function(t,e,n){var r=qt(t,e,n),o=r[0],i=r[1],a=/[^0-9.]/gi;return Zt(o=Number(String(o).replace(a,"")),i=Number(String(i).replace(a,"")))}});u.resetSortBy="resetSortBy",u.setSortBy="setSortBy",u.toggleSortBy="toggleSortBy",u.clearSortBy="clearSortBy",p.sortType="alphanumeric",p.sortDescFirst=!1;var Yt=function(t){t.getSortByToggleProps=[Kt],t.stateReducers.push($t),t.useInstance.push(Jt)};Yt.pluginName="useSortBy";var Kt=function(t,e){var n=e.instance,r=e.column,o=n.isMultiSortEvent,i=void 0===o?function(t){return t.shiftKey}:o;return[t,{onClick:r.canSort?function(t){t.persist(),r.toggleSortBy(void 0,!n.disableMultiSort&&i(t))}:void 0,style:{cursor:r.canSort?"pointer":void 0},title:r.canSort?"Toggle SortBy":void 0}]};function $t(t,e,n,r){if(e.type===u.init)return i({sortBy:[]},t);if(e.type===u.resetSortBy)return i({},t,{sortBy:r.initialState.sortBy||[]});if(e.type===u.clearSortBy)return i({},t,{sortBy:t.sortBy.filter((function(t){return t.id!==e.columnId}))});if(e.type===u.setSortBy)return i({},t,{sortBy:e.sortBy});if(e.type===u.toggleSortBy){var o,a=e.columnId,s=e.desc,c=e.multi,l=r.allColumns,p=r.disableMultiSort,f=r.disableSortRemove,h=r.disableMultiRemove,d=r.maxMultiSortColCount,v=void 0===d?Number.MAX_SAFE_INTEGER:d,g=t.sortBy,m=l.find((function(t){return t.id===a})).sortDescFirst,y=g.find((function(t){return t.id===a})),b=g.findIndex((function(t){return t.id===a})),w=null!=s,E=[];return"toggle"!=(o=!p&&c?y?"toggle":"add":b!==g.length-1||1!==g.length?"replace":y?"toggle":"replace")||f||w||c&&h||!(y&&y.desc&&!m||!y.desc&&m)||(o="remove"),"replace"===o?E=[{id:a,desc:w?s:m}]:"add"===o?(E=[].concat(g,[{id:a,desc:w?s:m}])).splice(0,E.length-v):"toggle"===o?E=g.map((function(t){return t.id===a?i({},t,{desc:w?s:!y.desc}):t})):"remove"===o&&(E=g.filter((function(t){return t.id!==a}))),i({},t,{sortBy:E})}}function Jt(t){var n=t.data,r=t.rows,o=t.flatRows,i=t.allColumns,a=t.orderByFn,s=void 0===a?Qt:a,c=t.sortTypes,l=t.manualSortBy,p=t.defaultCanSort,f=t.disableSortBy,d=t.flatHeaders,v=t.state.sortBy,m=t.dispatch,b=t.plugins,E=t.getHooks,P=t.autoResetSortBy,S=void 0===P||P;g(b,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var O=e.useCallback((function(t){m({type:u.setSortBy,sortBy:t})}),[m]),x=e.useCallback((function(t,e,n){m({type:u.toggleSortBy,columnId:t,desc:e,multi:n})}),[m]),R=y(t);d.forEach((function(t){var e=t.accessor,n=t.canSort,r=t.disableSortBy,o=t.id,i=e?M(!0!==r&&void 0,!0!==f&&void 0,!0):M(p,n,!1);t.canSort=i,t.canSort&&(t.toggleSortBy=function(e,n){return x(t.id,e,n)},t.clearSortBy=function(){m({type:u.clearSortBy,columnId:t.id})}),t.getSortByToggleProps=h(E().getSortByToggleProps,{instance:R(),column:t});var a=v.find((function(t){return t.id===o}));t.isSorted=!!a,t.sortedIndex=v.findIndex((function(t){return t.id===o})),t.isSortedDesc=t.isSorted?a.desc:void 0}));var _=e.useMemo((function(){if(l||!v.length)return[r,o];var t=[],e=v.filter((function(t){return i.find((function(e){return e.id===t.id}))}));return[function n(r){var o=s(r,e.map((function(t){var e=i.find((function(e){return e.id===t.id}));if(!e)throw new Error("React-Table: Could not find a column with id: "+t.id+" while sorting");var n=e.sortType,r=k(n)||(c||{})[n]||Ut[n];if(!r)throw new Error("React-Table: Could not find a valid sortType of '"+n+"' for column '"+t.id+"'.");return function(e,n){return r(e,n,t.id,t.desc)}})),e.map((function(t){var e=i.find((function(e){return e.id===t.id}));return e&&e.sortInverted?t.desc:!t.desc})));return o.forEach((function(e){t.push(e),e.subRows&&0!==e.subRows.length&&(e.subRows=n(e.subRows))})),o}(r),t]}),[l,v,r,o,i,s,c]),C=_[0],j=_[1],T=y(S);w((function(){T()&&m({type:u.resetSortBy})}),[l?null:n]),Object.assign(t,{preSortedRows:r,preSortedFlatRows:o,sortedRows:C,sortedFlatRows:j,rows:C,flatRows:j,setSortBy:O,toggleSortBy:x})}function Qt(t,e,n){return[].concat(t).sort((function(t,r){for(var o=0;o<e.length;o+=1){var i=e[o],a=!1===n[o]||"desc"===n[o],s=i(t,r);if(0!==s)return a?-s:s}return n[0]?t.index-r.index:r.index-t.index}))}u.resetPage="resetPage",u.gotoPage="gotoPage",u.setPageSize="setPageSize";var te=function(t){t.stateReducers.push(ee),t.useInstance.push(ne)};function ee(t,e,n,r){if(e.type===u.init)return i({pageSize:10,pageIndex:0},t);if(e.type===u.resetPage)return i({},t,{pageIndex:r.initialState.pageIndex||0});if(e.type===u.gotoPage){var o=r.pageCount,a=r.page,s=m(e.pageIndex,t.pageIndex),c=!1;return s>t.pageIndex?c=-1===o?a.length>=t.pageSize:s<o:s<t.pageIndex&&(c=s>-1),c?i({},t,{pageIndex:s}):t}if(e.type===u.setPageSize){var l=e.pageSize,p=t.pageSize*t.pageIndex;return i({},t,{pageIndex:Math.floor(p/l),pageSize:l})}}function ne(t){var n=t.rows,r=t.autoResetPage,o=void 0===r||r,i=t.manualExpandedKey,a=void 0===i?"expanded":i,s=t.plugins,c=t.pageCount,l=t.paginateExpandedRows,p=void 0===l||l,f=t.expandSubRows,h=void 0===f||f,d=t.state,v=d.pageSize,m=d.pageIndex,b=d.expanded,E=d.globalFilter,P=d.filters,S=d.groupBy,O=d.sortBy,x=t.dispatch,R=t.data,_=t.manualPagination;g(s,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var C=y(o);w((function(){C()&&x({type:u.resetPage})}),[x,_?null:R,E,P,S,O]);var M=_?c:Math.ceil(n.length/v),k=e.useMemo((function(){return M>0?[].concat(new Array(M)).fill(null).map((function(t,e){return e})):[]}),[M]),j=e.useMemo((function(){var t;if(_)t=n;else{var e=v*m,r=e+v;t=n.slice(e,r)}return p?t:T(t,{manualExpandedKey:a,expanded:b,expandSubRows:h})}),[h,b,a,_,m,v,p,n]),I=m>0,D=-1===M?j.length>=v:m<M-1,A=e.useCallback((function(t){x({type:u.gotoPage,pageIndex:t})}),[x]),z=e.useCallback((function(){return A((function(t){return t-1}))}),[A]),B=e.useCallback((function(){return A((function(t){return t+1}))}),[A]),F=e.useCallback((function(t){x({type:u.setPageSize,pageSize:t})}),[x]);Object.assign(t,{pageOptions:k,pageCount:M,page:j,canPreviousPage:I,canNextPage:D,gotoPage:A,previousPage:z,nextPage:B,setPageSize:F})}te.pluginName="usePagination",u.resetPivot="resetPivot",u.togglePivot="togglePivot";var re=function(t){t.getPivotToggleProps=[ie],t.stateReducers.push(ae),t.useInstanceAfterData.push(se),t.allColumns.push(ue),t.accessValue.push(ce),t.materializedColumns.push(le),t.materializedColumnsDeps.push(pe),t.visibleColumns.push(fe),t.visibleColumnsDeps.push(he),t.useInstance.push(de),t.prepareRow.push(ve)};re.pluginName="usePivotColumns";var oe=[],ie=function(t,e){var n=e.header;return[t,{onClick:n.canPivot?function(t){t.persist(),n.togglePivot()}:void 0,style:{cursor:n.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function ae(t,e,n,r){if(e.type===u.init)return i({pivotColumns:oe},t);if(e.type===u.resetPivot)return i({},t,{pivotColumns:r.initialState.pivotColumns||oe});if(e.type===u.togglePivot){var o=e.columnId,a=e.value,s=void 0!==a?a:!t.pivotColumns.includes(o);return i({},t,s?{pivotColumns:[].concat(t.pivotColumns,[o])}:{pivotColumns:t.pivotColumns.filter((function(t){return t!==o}))})}}function se(t){t.allColumns.forEach((function(e){e.isPivotSource=t.state.pivotColumns.includes(e.id)}))}function ue(t,e){var n=e.instance;return t.forEach((function(t){t.isPivotSource=n.state.pivotColumns.includes(t.id),t.uniqueValues=new Set})),t}function ce(t,e){var n=e.column;return n.uniqueValues&&void 0!==t&&n.uniqueValues.add(t),t}function le(t,e){var n=e.instance,r=n.allColumns,o=n.state;if(!o.pivotColumns.length||!o.groupBy||!o.groupBy.length)return t;var a=o.pivotColumns.map((function(t){return r.find((function(e){return e.id===t}))})).filter(Boolean),s=r.filter((function(t){return!t.isPivotSource&&!o.groupBy.includes(t.id)&&!o.pivotColumns.includes(t.id)})),u=O(function t(e,n,r){void 0===e&&(e=0),void 0===r&&(r=[]);var o=a[e];return o?Array.from(o.uniqueValues).sort().map((function(a){var s=i({},o,{Header:o.PivotHeader||"string"==typeof o.header?o.Header+": "+a:a,isPivotGroup:!0,parent:n,depth:e,id:n?n.id+"."+o.id+"."+a:o.id+"."+a,pivotValue:a});return s.columns=t(e+1,s,[].concat(r,[function(t){return t.values[o.id]===a}])),s})):s.map((function(t){return i({},t,{canPivot:!1,isPivoted:!0,parent:n,depth:e,id:""+(n?n.id+"."+t.id:t.id),accessor:function(e,n,o){if(r.every((function(t){return t(o)})))return o.values[t.id]}})}))}());return[].concat(t,u)}function pe(t,e){var n=e.instance.state,r=n.pivotColumns,o=n.groupBy;return[].concat(t,[r,o])}function fe(t,e){var n=e.instance.state;return t=t.filter((function(t){return!t.isPivotSource})),n.pivotColumns.length&&n.groupBy&&n.groupBy.length&&(t=t.filter((function(t){return t.isGrouped||t.isPivoted}))),t}function he(t,e){var n=e.instance;return[].concat(t,[n.state.pivotColumns,n.state.groupBy])}function de(t){var e=t.columns,n=t.allColumns,r=t.flatHeaders,o=t.getHooks,i=t.plugins,a=t.dispatch,s=t.autoResetPivot,c=void 0===s||s,l=t.manaulPivot,p=t.disablePivot,f=t.defaultCanPivot;g(i,["useGroupBy"],"usePivotColumns");var d=y(t);n.forEach((function(e){var n=e.accessor,r=e.defaultPivot,o=e.disablePivot;e.canPivot=n?M(e.canPivot,!0!==o&&void 0,!0!==p&&void 0,!0):M(e.canPivot,r,f,!1),e.canPivot&&(e.togglePivot=function(){return t.togglePivot(e.id)}),e.Aggregated=e.Aggregated||e.Cell})),r.forEach((function(t){t.getPivotToggleProps=h(o().getPivotToggleProps,{instance:d(),header:t})}));var v=y(c);w((function(){v()&&a({type:u.resetPivot})}),[a,l?null:e]),Object.assign(t,{togglePivot:function(t,e){a({type:u.togglePivot,columnId:t,value:e})}})}function ve(t){t.allCells.forEach((function(t){t.isPivoted=t.column.isPivoted}))}u.resetSelectedRows="resetSelectedRows",u.toggleAllRowsSelected="toggleAllRowsSelected",u.toggleRowSelected="toggleRowSelected",u.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var ge=function(t){t.getToggleRowSelectedProps=[me],t.getToggleAllRowsSelectedProps=[ye],t.getToggleAllPageRowsSelectedProps=[be],t.stateReducers.push(we),t.useInstance.push(Ee),t.prepareRow.push(Pe)};ge.pluginName="useRowSelect";var me=function(t,e){var n=e.instance,r=e.row,o=n.manualRowSelectedKey,i=void 0===o?"isSelected":o;return[t,{onChange:function(t){r.toggleRowSelected(t.target.checked)},style:{cursor:"pointer"},checked:!(!r.original||!r.original[i])||r.isSelected,title:"Toggle Row Selected",indeterminate:r.isSomeSelected}]},ye=function(t,e){var n=e.instance;return[t,{onChange:function(t){n.toggleAllRowsSelected(t.target.checked)},style:{cursor:"pointer"},checked:n.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:Boolean(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]},be=function(t,e){var n=e.instance;return[t,{onChange:function(t){n.toggleAllPageRowsSelected(t.target.checked)},style:{cursor:"pointer"},checked:n.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:Boolean(!n.isAllPageRowsSelected&&n.page.some((function(t){var e=t.id;return n.state.selectedRowIds[e]})))}]};function we(t,e,n,r){if(e.type===u.init)return i({selectedRowIds:{}},t);if(e.type===u.resetSelectedRows)return i({},t,{selectedRowIds:r.initialState.selectedRowIds||{}});if(e.type===u.toggleAllRowsSelected){var o=e.value,a=r.isAllRowsSelected,s=r.rowsById,c=r.nonGroupedRowsById,l=void 0===c?s:c,p=void 0!==o?o:!a,f=Object.assign({},t.selectedRowIds);return p?Object.keys(l).forEach((function(t){f[t]=!0})):Object.keys(l).forEach((function(t){delete f[t]})),i({},t,{selectedRowIds:f})}if(e.type===u.toggleRowSelected){var h=e.id,d=e.value,v=r.rowsById,g=r.selectSubRows,m=void 0===g||g,y=r.getSubRows,b=t.selectedRowIds[h],w=void 0!==d?d:!b;if(b===w)return t;var E=i({},t.selectedRowIds);return function t(e){var n=v[e];if(n.isGrouped||(w?E[e]=!0:delete E[e]),m&&y(n))return y(n).forEach((function(e){return t(e.id)}))}(h),i({},t,{selectedRowIds:E})}if(e.type===u.toggleAllPageRowsSelected){var P=e.value,S=r.page,O=r.rowsById,x=r.selectSubRows,R=void 0===x||x,_=r.isAllPageRowsSelected,C=r.getSubRows,M=void 0!==P?P:!_,k=i({},t.selectedRowIds);return S.forEach((function(t){return function t(e){var n=O[e];if(n.isGrouped||(M?k[e]=!0:delete k[e]),R&&C(n))return C(n).forEach((function(e){return t(e.id)}))}(t.id)})),i({},t,{selectedRowIds:k})}return t}function Ee(t){var n=t.data,r=t.rows,o=t.getHooks,i=t.plugins,a=t.rowsById,s=t.nonGroupedRowsById,c=void 0===s?a:s,l=t.autoResetSelectedRows,p=void 0===l||l,f=t.state.selectedRowIds,d=t.selectSubRows,v=void 0===d||d,m=t.dispatch,b=t.page,E=t.getSubRows;g(i,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var P=e.useMemo((function(){var t=[];return r.forEach((function(e){var n=v?function t(e,n,r){if(n[e.id])return!0;var o=r(e);if(o&&o.length){var i=!0,a=!1;return o.forEach((function(e){a&&!i||(t(e,n,r)?a=!0:i=!1)})),!!i||!!a&&null}return!1}(e,f,E):!!f[e.id];e.isSelected=!!n,e.isSomeSelected=null===n,n&&t.push(e)})),t}),[r,v,f,E]),S=Boolean(Object.keys(c).length&&Object.keys(f).length),O=S;S&&Object.keys(c).some((function(t){return!f[t]}))&&(S=!1),S||b&&b.length&&b.some((function(t){var e=t.id;return!f[e]}))&&(O=!1);var x=y(p);w((function(){x()&&m({type:u.resetSelectedRows})}),[m,n]);var R=e.useCallback((function(t){return m({type:u.toggleAllRowsSelected,value:t})}),[m]),_=e.useCallback((function(t){return m({type:u.toggleAllPageRowsSelected,value:t})}),[m]),C=e.useCallback((function(t,e){return m({type:u.toggleRowSelected,id:t,value:e})}),[m]),M=y(t),k=h(o().getToggleAllRowsSelectedProps,{instance:M()}),j=h(o().getToggleAllPageRowsSelectedProps,{instance:M()});Object.assign(t,{selectedFlatRows:P,isAllRowsSelected:S,isAllPageRowsSelected:O,toggleRowSelected:C,toggleAllRowsSelected:R,getToggleAllRowsSelectedProps:k,getToggleAllPageRowsSelectedProps:j,toggleAllPageRowsSelected:_})}function Pe(t,e){var n=e.instance;t.toggleRowSelected=function(e){return n.toggleRowSelected(t.id,e)},t.getToggleRowSelectedProps=h(n.getHooks().getToggleRowSelectedProps,{instance:n,row:t})}var Se=function(t){return{}},Oe=function(t){return{}};u.setRowState="setRowState",u.setCellState="setCellState",u.resetRowState="resetRowState";var xe=function(t){t.stateReducers.push(Re),t.useInstance.push(_e),t.prepareRow.push(Ce)};function Re(t,e,n,r){var o=r.initialRowStateAccessor,a=void 0===o?Se:o,s=r.initialCellStateAccessor,c=void 0===s?Oe:s,l=r.rowsById;if(e.type===u.init)return i({rowState:{}},t);if(e.type===u.resetRowState)return i({},t,{rowState:r.initialState.rowState||{}});if(e.type===u.setRowState){var p,f=e.rowId,h=e.value,d=void 0!==t.rowState[f]?t.rowState[f]:a(l[f]);return i({},t,{rowState:i({},t.rowState,(p={},p[f]=m(h,d),p))})}if(e.type===u.setCellState){var v,g,y,b,w,E=e.rowId,P=e.columnId,S=e.value,O=void 0!==t.rowState[E]?t.rowState[E]:a(l[E]),x=void 0!==(null==O||null==(v=O.cellState)?void 0:v[P])?O.cellState[P]:c(null==(g=l[E])||null==(y=g.cells)?void 0:y.find((function(t){return t.column.id===P})));return i({},t,{rowState:i({},t.rowState,(w={},w[E]=i({},O,{cellState:i({},O.cellState||{},(b={},b[P]=m(S,x),b))}),w))})}}function _e(t){var n=t.autoResetRowState,r=void 0===n||n,o=t.data,i=t.dispatch,a=e.useCallback((function(t,e){return i({type:u.setRowState,rowId:t,value:e})}),[i]),s=e.useCallback((function(t,e,n){return i({type:u.setCellState,rowId:t,columnId:e,value:n})}),[i]),c=y(r);w((function(){c()&&i({type:u.resetRowState})}),[o]),Object.assign(t,{setRowState:a,setCellState:s})}function Ce(t,e){var n=e.instance,r=n.initialRowStateAccessor,o=void 0===r?Se:r,i=n.initialCellStateAccessor,a=void 0===i?Oe:i,s=n.state.rowState;t&&(t.state=void 0!==s[t.id]?s[t.id]:o(t),t.setState=function(e){return n.setRowState(t.id,e)},t.cells.forEach((function(e){t.state.cellState||(t.state.cellState={}),e.state=void 0!==t.state.cellState[e.column.id]?t.state.cellState[e.column.id]:a(e),e.setState=function(r){return n.setCellState(t.id,e.column.id,r)}})))}xe.pluginName="useRowState",u.resetColumnOrder="resetColumnOrder",u.setColumnOrder="setColumnOrder";var Me=function(t){t.stateReducers.push(ke),t.visibleColumnsDeps.push((function(t,e){var n=e.instance;return[].concat(t,[n.state.columnOrder])})),t.visibleColumns.push(je),t.useInstance.push(Te)};function ke(t,e,n,r){return e.type===u.init?i({columnOrder:[]},t):e.type===u.resetColumnOrder?i({},t,{columnOrder:r.initialState.columnOrder||[]}):e.type===u.setColumnOrder?i({},t,{columnOrder:m(e.columnOrder,t.columnOrder)}):void 0}function je(t,e){var n=e.instance.state.columnOrder;if(!n||!n.length)return t;for(var r=[].concat(n),o=[].concat(t),i=[],a=function(){var t=r.shift(),e=o.findIndex((function(e){return e.id===t}));e>-1&&i.push(o.splice(e,1)[0])};o.length&&r.length;)a();return[].concat(i,o)}function Te(t){var n=t.dispatch;t.setColumnOrder=e.useCallback((function(t){return n({type:u.setColumnOrder,columnOrder:t})}),[n])}Me.pluginName="useColumnOrder",p.canResize=!0,u.columnStartResizing="columnStartResizing",u.columnResizing="columnResizing",u.columnDoneResizing="columnDoneResizing",u.resetResize="resetResize";var Ie=function(t){t.getResizerProps=[De],t.getHeaderProps.push({style:{position:"relative"}}),t.stateReducers.push(Ae),t.useInstance.push(Be),t.useInstanceBeforeDimensions.push(ze)},De=function(t,e){var n=e.instance,r=e.header,o=n.dispatch,i=function(t,e){var n=!1;if("touchstart"===t.type){if(t.touches&&t.touches.length>1)return;n=!0}var r=function(t){var e=[];return function t(n){n.columns&&n.columns.length&&n.columns.map(t),e.push(n)}(t),e}(e).map((function(t){return[t.id,t.totalWidth]})),i=n?Math.round(t.touches[0].clientX):t.clientX,a=function(t){o({type:u.columnResizing,clientX:t})},s=function(){return o({type:u.columnDoneResizing})},c={mouse:{moveEvent:"mousemove",moveHandler:function(t){return a(t.clientX)},upEvent:"mouseup",upHandler:function(t){document.removeEventListener("mousemove",c.mouse.moveHandler),document.removeEventListener("mouseup",c.mouse.upHandler),s()}},touch:{moveEvent:"touchmove",moveHandler:function(t){return t.cancelable&&(t.preventDefault(),t.stopPropagation()),a(t.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(t){document.removeEventListener(c.touch.moveEvent,c.touch.moveHandler),document.removeEventListener(c.touch.upEvent,c.touch.moveHandler),s()}}},l=n?c.touch:c.mouse,p=!!function(){if("boolean"==typeof z)return z;var t=!1;try{var e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){t=!1}return z=t}()&&{passive:!1};document.addEventListener(l.moveEvent,l.moveHandler,p),document.addEventListener(l.upEvent,l.upHandler,p),o({type:u.columnStartResizing,columnId:e.id,columnWidth:e.totalWidth,headerIdWidths:r,clientX:i})};return[t,{onMouseDown:function(t){return t.persist()||i(t,r)},onTouchStart:function(t){return t.persist()||i(t,r)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function Ae(t,e){if(e.type===u.init)return i({columnResizing:{columnWidths:{}}},t);if(e.type===u.resetResize)return i({},t,{columnResizing:{columnWidths:{}}});if(e.type===u.columnStartResizing){var n=e.clientX,r=e.columnId,o=e.columnWidth,a=e.headerIdWidths;return i({},t,{columnResizing:i({},t.columnResizing,{startX:n,headerIdWidths:a,columnWidth:o,isResizingColumn:r})})}if(e.type===u.columnResizing){var s=e.clientX,c=t.columnResizing,l=c.startX,p=c.columnWidth,f=c.headerIdWidths,h=(s-l)/p,d={};return(void 0===f?[]:f).forEach((function(t){var e=t[0],n=t[1];d[e]=Math.max(n+n*h,0)})),i({},t,{columnResizing:i({},t.columnResizing,{columnWidths:i({},t.columnResizing.columnWidths,{},d)})})}return e.type===u.columnDoneResizing?i({},t,{columnResizing:i({},t.columnResizing,{startX:null,isResizingColumn:null})}):void 0}Ie.pluginName="useResizeColumns";var ze=function(t){var e=t.flatHeaders,n=t.disableResizing,r=t.getHooks,o=t.state.columnResizing,i=y(t);e.forEach((function(t){var e=M(!0!==t.disableResizing&&void 0,!0!==n&&void 0,!0);t.canResize=e,t.width=o.columnWidths[t.id]||t.originalWidth||t.width,t.isResizing=o.isResizingColumn===t.id,e&&(t.getResizerProps=h(r().getResizerProps,{instance:i(),header:t}))}))};function Be(t){var n=t.plugins,r=t.dispatch,o=t.autoResetResize,i=void 0===o||o,a=t.columns;g(n,["useAbsoluteLayout"],"useResizeColumns");var s=y(i);w((function(){s()&&r({type:u.resetResize})}),[a]);var c=e.useCallback((function(){return r({type:u.resetResize})}),[r]);Object.assign(t,{resetResizing:c})}var Fe={position:"absolute",top:0},Ne=function(t){t.getTableBodyProps.push(Le),t.getRowProps.push(Le),t.getHeaderGroupProps.push(Le),t.getFooterGroupProps.push(Le),t.getHeaderProps.push((function(t,e){var n=e.column;return[t,{style:i({},Fe,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]})),t.getCellProps.push((function(t,e){var n=e.cell;return[t,{style:i({},Fe,{left:n.column.totalLeft+"px",width:n.column.totalWidth+"px"})}]})),t.getFooterProps.push((function(t,e){var n=e.column;return[t,{style:i({},Fe,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]}))};Ne.pluginName="useAbsoluteLayout";var Le=function(t,e){return[t,{style:{position:"relative",width:e.instance.totalColumnsWidth+"px"}}]},He={display:"inline-block",boxSizing:"border-box"},Ge=function(t,e){return[t,{style:{display:"flex",width:e.instance.totalColumnsWidth+"px"}}]},Ve=function(t){t.getRowProps.push(Ge),t.getHeaderGroupProps.push(Ge),t.getFooterGroupProps.push(Ge),t.getHeaderProps.push((function(t,e){var n=e.column;return[t,{style:i({},He,{width:n.totalWidth+"px"})}]})),t.getCellProps.push((function(t,e){var n=e.cell;return[t,{style:i({},He,{width:n.column.totalWidth+"px"})}]})),t.getFooterProps.push((function(t,e){var n=e.column;return[t,{style:i({},He,{width:n.totalWidth+"px"})}]}))};function We(t){t.getTableProps.push(Ze),t.getRowProps.push(qe),t.getHeaderGroupProps.push(qe),t.getFooterGroupProps.push(qe),t.getHeaderProps.push(Xe),t.getCellProps.push(Ue),t.getFooterProps.push(Ye)}Ve.pluginName="useBlockLayout",We.pluginName="useFlexLayout";var Ze=function(t,e){return[t,{style:{minWidth:e.instance.totalColumnsMinWidth+"px"}}]},qe=function(t,e){return[t,{style:{display:"flex",flex:"1 0 auto",minWidth:e.instance.totalColumnsMinWidth+"px"}}]},Xe=function(t,e){var n=e.column;return[t,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]},Ue=function(t,e){var n=e.cell;return[t,{style:{boxSizing:"border-box",flex:n.column.totalFlexWidth+" 0 auto",minWidth:n.column.totalMinWidth+"px",width:n.column.totalWidth+"px"}}]},Ye=function(t,e){var n=e.column;return[t,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]};function Ke(t){t.stateReducers.push(Qe),t.getTableProps.push($e),t.getHeaderProps.push(Je)}Ke.pluginName="useGridLayout";var $e=function(t,e){return[t,{style:{display:"grid",gridTemplateColumns:e.instance.state.gridLayout.columnWidths.map((function(t){return t})).join(" ")}}]},Je=function(t,e){return[t,{id:"header-cell-"+e.column.id,style:{position:"sticky"}}]};function Qe(t,e,n,r){if("init"===e.type)return i({gridLayout:{columnWidths:r.columns.map((function(){return"auto"}))}},t);if("columnStartResizing"===e.type){var o=e.columnId,a=r.visibleColumns.findIndex((function(t){return t.id===o})),s=function(t){var e,n=null==(e=document.getElementById("header-cell-"+t))?void 0:e.offsetWidth;if(void 0!==n)return n}(o);return void 0!==s?i({},t,{gridLayout:i({},t.gridLayout,{columnId:o,columnIndex:a,startingWidth:s})}):t}if("columnResizing"===e.type){var u=t.gridLayout,c=u.columnIndex,l=u.startingWidth,p=u.columnWidths,f=l-(t.columnResizing.startX-e.clientX),h=[].concat(p);return h[c]=f+"px",i({},t,{gridLayout:i({},t.gridLayout,{columnWidths:h})})}}t._UNSTABLE_usePivotColumns=re,t.actions=u,t.defaultColumn=p,t.defaultGroupByFn=Vt,t.defaultOrderByFn=Qt,t.defaultRenderer=c,t.emptyRenderer=l,t.ensurePluginOrder=g,t.flexRender=P,t.functionalUpdate=m,t.loopHooks=v,t.makePropGetter=h,t.makeRenderer=E,t.reduceHooks=d,t.safeUseLayoutEffect=b,t.useAbsoluteLayout=Ne,t.useAsyncDebounce=function(t,n){void 0===n&&(n=0);var i=e.useRef({}),a=y(t),s=y(n);return e.useCallback(function(){var t=o(r.mark((function t(){var e,n,u,c=arguments;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=c.length,n=new Array(e),u=0;u<e;u++)n[u]=c[u];return i.current.promise||(i.current.promise=new Promise((function(t,e){i.current.resolve=t,i.current.reject=e}))),i.current.timeout&&clearTimeout(i.current.timeout),i.current.timeout=setTimeout(o(r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return delete i.current.timeout,t.prev=1,t.t0=i.current,t.next=5,a().apply(void 0,n);case 5:t.t1=t.sent,t.t0.resolve.call(t.t0,t.t1),t.next=12;break;case 9:t.prev=9,t.t2=t.catch(1),i.current.reject(t.t2);case 12:return t.prev=12,delete i.current.promise,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])}))),s()),t.abrupt("return",i.current.promise);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),[a,s])},t.useBlockLayout=Ve,t.useColumnOrder=Me,t.useExpanded=ct,t.useFilters=Rt,t.useFlexLayout=We,t.useGetLatest=y,t.useGlobalFilter=Mt,t.useGridLayout=Ke,t.useGroupBy=zt,t.useMountedLayoutEffect=w,t.usePagination=te,t.useResizeColumns=Ie,t.useRowSelect=ge,t.useRowState=xe,t.useSortBy=Yt,t.useTable=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t=at(t),r=[U].concat(r);var a=y(e.useRef({}).current);Object.assign(a(),i({},t,{plugins:r,hooks:X()})),r.filter(Boolean).forEach((function(t){t(a().hooks)}));var s=y(a().hooks);a().getHooks=s,delete a().hooks,Object.assign(a(),d(s().useOptions,at(t)));var c=a(),l=c.data,p=c.columns,f=c.initialState,g=c.defaultColumn,m=c.getSubRows,b=c.getRowId,w=c.stateReducer,P=c.useControlledState,C=y(w),M=e.useCallback((function(t,e){if(!e.type)throw console.info({action:e}),new Error("Unknown Action 👆");return[].concat(s().stateReducers,Array.isArray(C())?C():[C()]).reduce((function(n,r){return r(n,e,t,a())||n}),t)}),[s,C,a]),k=e.useReducer(M,void 0,(function(){return M(f,{type:u.init})})),j=k[0],T=k[1],I=d([].concat(s().useControlledState,[P]),j,{instance:a()});Object.assign(a(),{state:I,dispatch:T});var D=e.useMemo((function(){return S(d(s().columns,p,{instance:a()}))}),[s,a,p].concat(d(s().columnsDeps,[],{instance:a()})));a().columns=D;var A=e.useMemo((function(){return d(s().allColumns,O(D),{instance:a()}).map(x)}),[D,s,a].concat(d(s().allColumnsDeps,[],{instance:a()})));a().allColumns=A;var z=e.useMemo((function(){for(var t=[],e=[],n={},r=[].concat(A);r.length;){var o=r.shift();ut({data:l,rows:t,flatRows:e,rowsById:n,column:o,getRowId:b,getSubRows:m,accessValueHooks:s().accessValue,getInstance:a})}return[t,e,n]}),[A,l,b,m,s,a]),B=z[0],F=z[1],N=z[2];Object.assign(a(),{rows:B,initialRows:[].concat(B),flatRows:F,rowsById:N}),v(s().useInstanceAfterData,a());var L=e.useMemo((function(){return d(s().visibleColumns,A,{instance:a()}).map((function(t){return R(t,g)}))}),[s,A,a,g].concat(d(s().visibleColumnsDeps,[],{instance:a()})));A=e.useMemo((function(){var t=[].concat(L);return A.forEach((function(e){t.find((function(t){return t.id===e.id}))||t.push(e)})),t}),[A,L]),a().allColumns=A;var H=e.useMemo((function(){return d(s().headerGroups,_(L,g),a())}),[s,L,g,a].concat(d(s().headerGroupsDeps,[],{instance:a()})));a().headerGroups=H;var G=e.useMemo((function(){return H.length?H[0].headers:[]}),[H]);a().headers=G,a().flatHeaders=H.reduce((function(t,e){return[].concat(t,e.headers)}),[]),v(s().useInstanceBeforeDimensions,a());var V=L.filter((function(t){return t.isVisible})).map((function(t){return t.id})).sort().join("_");L=e.useMemo((function(){return L.filter((function(t){return t.isVisible}))}),[L,V]),a().visibleColumns=L;var W=st(G),Z=W[0],q=W[1],Y=W[2];return a().totalColumnsMinWidth=Z,a().totalColumnsWidth=q,a().totalColumnsMaxWidth=Y,v(s().useInstance,a()),[].concat(a().flatHeaders,a().allColumns).forEach((function(t){t.render=E(a(),t),t.getHeaderProps=h(s().getHeaderProps,{instance:a(),column:t}),t.getFooterProps=h(s().getFooterProps,{instance:a(),column:t})})),a().headerGroups=e.useMemo((function(){return H.filter((function(t,e){return t.headers=t.headers.filter((function(t){return t.headers?function t(e){return e.filter((function(e){return e.headers?t(e.headers):e.isVisible})).length}(t.headers):t.isVisible})),!!t.headers.length&&(t.getHeaderGroupProps=h(s().getHeaderGroupProps,{instance:a(),headerGroup:t,index:e}),t.getFooterGroupProps=h(s().getFooterGroupProps,{instance:a(),headerGroup:t,index:e}),!0)}))}),[H,a,s]),a().footerGroups=[].concat(a().headerGroups).reverse(),a().prepareRow=e.useCallback((function(t){t.getRowProps=h(s().getRowProps,{instance:a(),row:t}),t.allCells=A.map((function(e){var n=t.values[e.id],r={column:e,row:t,value:n};return r.getCellProps=h(s().getCellProps,{instance:a(),cell:r}),r.render=E(a(),e,{row:t,cell:r,value:n}),r})),t.cells=L.map((function(e){return t.allCells.find((function(t){return t.column.id===e.id}))})),v(s().prepareRow,t,{instance:a()})}),[s,a,A,L]),a().getTableProps=h(s().getTableProps,{instance:a()}),a().getTableBodyProps=h(s().getTableBodyProps,{instance:a()}),v(s().useFinalInstance,a()),a()},Object.defineProperty(t,"__esModule",{value:!0})}(e,n(7294))},742:function(t,e,n){t.exports=n(2467)},9670:function(t,e,n){var r=n(111);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},1318:function(t,e,n){var r=n(5656),o=n(7466),i=n(3984),a=function(t){return function(e,n,a){var s,u=r(e),c=o(u.length),l=i(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},4326:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},9920:function(t,e,n){var r=n(6656),o=n(3887),i=n(1236),a=n(3070);t.exports=function(t,e){for(var n=o(e),s=a.f,u=i.f,c=0;c<n.length;c++){var l=n[c];r(t,l)||s(t,l,u(e,l))}}},8880:function(t,e,n){var r=n(219),o=n(3070),i=n(9114);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},219:function(t,e,n){var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,n){var r=n(7854),o=n(111),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},8113:function(t,e,n){var r=n(5005);t.exports=r("navigator","userAgent")||""},7392:function(t,e,n){var r,o,i=n(7854),a=n(8113),s=i.process,u=i.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l?o=(r=l.split("."))[0]<4?1:r[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){var r=n(7854),o=n(1236).f,i=n(8880),a=n(1320),s=n(3505),u=n(9920),c=n(4705);t.exports=function(t,e){var n,l,p,f,h,d=t.target,v=t.global,g=t.stat;if(n=v?r:g?r[d]||s(d,{}):(r[d]||{}).prototype)for(l in e){if(f=e[l],p=t.noTargetGet?(h=o(n,l))&&h.value:n[l],!c(v?l:d+(g?".":"#")+l,t.forced)&&void 0!==p){if(typeof f==typeof p)continue;u(f,p)}(t.sham||p&&p.sham)&&i(f,"sham",!0),a(n,l,f,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},5005:function(t,e,n){var r=n(7854),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},7854:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:function(t,e,n){var r=n(7908),o={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return o.call(r(t),e)}},3501:function(t){t.exports={}},4664:function(t,e,n){var r=n(219),o=n(7293),i=n(317);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var r=n(7293),o=n(4326),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},2788:function(t,e,n){var r=n(5465),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},9909:function(t,e,n){var r,o,i,a=n(8536),s=n(7854),u=n(111),c=n(8880),l=n(6656),p=n(5465),f=n(6200),h=n(3501),d="Object already initialized",v=s.WeakMap;if(a||p.state){var g=p.state||(p.state=new v),m=g.get,y=g.has,b=g.set;r=function(t,e){if(y.call(g,t))throw new TypeError(d);return e.facade=t,b.call(g,t,e),e},o=function(t){return m.call(g,t)||{}},i=function(t){return y.call(g,t)}}else{var w=f("state");h[w]=!0,r=function(t,e){if(l(t,w))throw new TypeError(d);return e.facade=t,c(t,w,e),e},o=function(t){return l(t,w)?t[w]:{}},i=function(t){return l(t,w)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},4705:function(t,e,n){var r=n(7293),o=/#|\.prototype\./,i=function(t,e){var n=s[a(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},s=i.data={},u=i.NATIVE="N",c=i.POLYFILL="P";t.exports=i},111:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:function(t){t.exports=!1},2190:function(t,e,n){var r=n(5005),o=n(3307);t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return"function"==typeof e&&Object(t)instanceof e}},133:function(t,e,n){var r=n(7392),o=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:function(t,e,n){var r=n(7854),o=n(2788),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},3070:function(t,e,n){var r=n(219),o=n(4664),i=n(9670),a=n(4948),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(i(t),e=a(e),i(n),o)try{return s(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var r=n(219),o=n(5296),i=n(9114),a=n(5656),s=n(4948),u=n(6656),c=n(4664),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=s(e),c)try{return l(t,e)}catch(n){}if(u(t,e))return i(!o.f.call(t,e),t[e])}},8006:function(t,e,n){var r=n(6324),o=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},6324:function(t,e,n){var r=n(6656),o=n(5656),i=n(1318).indexOf,a=n(3501);t.exports=function(t,e){var n,s=o(t),u=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~i(c,n)||c.push(n));return c}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},2140:function(t,e,n){var r=n(111);t.exports=function(t,e){var n,o;if("string"===e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if("string"!==e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},3887:function(t,e,n){var r=n(5005),o=n(8006),i=n(5181),a=n(9670);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},1320:function(t,e,n){var r=n(7854),o=n(8880),i=n(6656),a=n(3505),s=n(2788),u=n(9909),c=u.get,l=u.enforce,p=String(String).split("String");(t.exports=function(t,e,n,s){var u,c=!!s&&!!s.unsafe,f=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),(u=l(n)).source||(u.source=p.join("string"==typeof e?e:""))),t!==r?(c?!h&&t[e]&&(f=!0):delete t[e],f?t[e]=n:o(t,e,n)):f?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},4488:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:function(t,e,n){var r=n(7854);t.exports=function(t,e){try{Object.defineProperty(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},6200:function(t,e,n){var r=n(2309),o=n(9711),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},5465:function(t,e,n){var r=n(7854),o=n(3505),i="__core-js_shared__",a=r[i]||o(i,{});t.exports=a},2309:function(t,e,n){var r=n(1913),o=n(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.17.3",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},3984:function(t,e,n){var r=n(9958),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},5656:function(t,e,n){var r=n(8361),o=n(4488);t.exports=function(t){return r(o(t))}},9958:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},7466:function(t,e,n){var r=n(9958),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},7908:function(t,e,n){var r=n(4488);t.exports=function(t){return Object(r(t))}},7593:function(t,e,n){var r=n(111),o=n(2190),i=n(2140),a=n(5112)("toPrimitive");t.exports=function(t,e){if(!r(t)||o(t))return t;var n,s=t[a];if(void 0!==s){if(void 0===e&&(e="default"),n=s.call(t,e),!r(n)||o(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),i(t,e)}},4948:function(t,e,n){var r=n(7593),o=n(2190);t.exports=function(t){var e=r(t,"string");return o(e)?e:String(e)}},9711:function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},3307:function(t,e,n){var r=n(133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:function(t,e,n){var r=n(7854),o=n(2309),i=n(6656),a=n(9711),s=n(133),u=n(3307),c=o("wks"),l=r.Symbol,p=u?l:l&&l.withoutSetter||a;t.exports=function(t){return i(c,t)&&(s||"string"==typeof c[t])||(s&&i(l,t)?c[t]=l[t]:c[t]=p("Symbol."+t)),c[t]}},5438:function(t,e,n){var r=n(2109),o=Math.hypot,i=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,o=0,s=0,u=arguments.length,c=0;s<u;)c<(n=i(arguments[s++]))?(o=o*(r=c/n)*r+1,c=n):o+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*a(o)}})},6599:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return To}});var r=n(2982),o=n(7294),i=n(6633),a=n.n(i),s=n(5898),u=n(5278),c=n(6777),l=n(7462);function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=n(5697);var h=n(181);function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(u){s=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(t,e)||(0,h.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}n(5438);var y=1e-6,b="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var w,E;w=new b(4),b!=Float32Array&&(w[0]=0,w[1]=0,w[2]=0,w[3]=0),E=w;function P(t,e){var n=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,t[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,t[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,t[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,t}([],e,t);return function(t,e,n){t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n}(n,n,1/n[3]),n}function S(t,e){var n=t%e;return n<0?e+n:n}function O(t,e,n){return n*e+(1-n)*t}var x=Math.log2||function(t){return Math.log(t)*Math.LOG2E};function R(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],p=e[8],f=e[9],h=e[10],d=e[11],v=e[12],g=e[13],m=e[14],y=e[15],b=n[0],w=n[1],E=n[2],P=n[3];return t[0]=b*r+w*s+E*p+P*v,t[1]=b*o+w*u+E*f+P*g,t[2]=b*i+w*c+E*h+P*m,t[3]=b*a+w*l+E*d+P*y,b=n[4],w=n[5],E=n[6],P=n[7],t[4]=b*r+w*s+E*p+P*v,t[5]=b*o+w*u+E*f+P*g,t[6]=b*i+w*c+E*h+P*m,t[7]=b*a+w*l+E*d+P*y,b=n[8],w=n[9],E=n[10],P=n[11],t[8]=b*r+w*s+E*p+P*v,t[9]=b*o+w*u+E*f+P*g,t[10]=b*i+w*c+E*h+P*m,t[11]=b*a+w*l+E*d+P*y,b=n[12],w=n[13],E=n[14],P=n[15],t[12]=b*r+w*s+E*p+P*v,t[13]=b*o+w*u+E*f+P*g,t[14]=b*i+w*c+E*h+P*m,t[15]=b*a+w*l+E*d+P*y,t}function _(t,e,n){var r,o,i,a,s,u,c,l,p,f,h,d,v=n[0],g=n[1],m=n[2];return e===t?(t[12]=e[0]*v+e[4]*g+e[8]*m+e[12],t[13]=e[1]*v+e[5]*g+e[9]*m+e[13],t[14]=e[2]*v+e[6]*g+e[10]*m+e[14],t[15]=e[3]*v+e[7]*g+e[11]*m+e[15]):(r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],p=e[8],f=e[9],h=e[10],d=e[11],t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=l,t[8]=p,t[9]=f,t[10]=h,t[11]=d,t[12]=r*v+s*g+p*m+e[12],t[13]=o*v+u*g+f*m+e[13],t[14]=i*v+c*g+h*m+e[14],t[15]=a*v+l*g+d*m+e[15]),t}function C(t,e,n){var r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function M(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],p=t[9],f=t[10],h=t[11],d=t[12],v=t[13],g=t[14],m=t[15],b=e[0],w=e[1],E=e[2],P=e[3],S=e[4],O=e[5],x=e[6],R=e[7],_=e[8],C=e[9],M=e[10],k=e[11],j=e[12],T=e[13],I=e[14],D=e[15];return Math.abs(n-b)<=y*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-w)<=y*Math.max(1,Math.abs(r),Math.abs(w))&&Math.abs(o-E)<=y*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(i-P)<=y*Math.max(1,Math.abs(i),Math.abs(P))&&Math.abs(a-S)<=y*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(s-O)<=y*Math.max(1,Math.abs(s),Math.abs(O))&&Math.abs(u-x)<=y*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(c-R)<=y*Math.max(1,Math.abs(c),Math.abs(R))&&Math.abs(l-_)<=y*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(p-C)<=y*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(f-M)<=y*Math.max(1,Math.abs(f),Math.abs(M))&&Math.abs(h-k)<=y*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(d-j)<=y*Math.max(1,Math.abs(d),Math.abs(j))&&Math.abs(v-T)<=y*Math.max(1,Math.abs(v),Math.abs(T))&&Math.abs(g-I)<=y*Math.max(1,Math.abs(g),Math.abs(I))&&Math.abs(m-D)<=y*Math.max(1,Math.abs(m),Math.abs(D))}function k(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function j(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function T(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function I(t,e,n,r){var o=e[0],i=e[1];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t}var D=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t};!function(){var t=function(){var t=new b(2);return b!=Float32Array&&(t[0]=0,t[1]=0),t}()}();function A(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}var z=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t};!function(){var t=function(){var t=new b(3);return b!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}()}();function B(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}var F=Math.PI,N=F/4,L=F/180,H=180/F,G=512;function V(t){return Math.pow(2,t)}function W(t){return x(t)}function Z(t){var e=d(t,2),n=e[0],r=e[1];B(Number.isFinite(n)),B(Number.isFinite(r)&&r>=-90&&r<=90,"invalid latitude");var o=r*L;return[G*(n*L+F)/(2*F),G*(F+Math.log(Math.tan(N+.5*o)))/(2*F)]}function q(t){var e=d(t,2),n=e[0],r=e[1],o=n/G*(2*F)-F,i=2*(Math.atan(Math.exp(r/G*(2*F)-F))-N);return[o*H,i*H]}function X(t){var e=t.latitude,n=t.longitude,r=t.highPrecision,o=void 0!==r&&r;B(Number.isFinite(e)&&Number.isFinite(n));var i={},a=Math.cos(e*L),s=512/360,u=s/a,c=12790407194604047e-21/a;if(i.unitsPerMeter=[c,c,c],i.metersPerUnit=[1/c,1/c,1/c],i.unitsPerDegree=[s,u,c],i.degreesPerUnit=[.703125,1/u,1/c],o){var l=L*Math.tan(e*L)/a,p=s*l/2,f=12790407194604047e-21*l,h=f/u*c;i.unitsPerDegree2=[0,p,f],i.unitsPerMeter2=[h,0,h]}return i}function U(t){var e=t.height,n=t.pitch,r=t.bearing,o=t.altitude,i=t.scale,a=t.center,s=void 0===a?null:a,u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return _(u,u,[0,0,-o]),function(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],p=e[10],f=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+c*r,t[5]=a*o+l*r,t[6]=s*o+p*r,t[7]=u*o+f*r,t[8]=c*o-i*r,t[9]=l*o-a*r,t[10]=p*o-s*r,t[11]=f*o-u*r}(u,u,-n*L),function(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],u=e[3],c=e[4],l=e[5],p=e[6],f=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+c*r,t[1]=a*o+l*r,t[2]=s*o+p*r,t[3]=u*o+f*r,t[4]=c*o-i*r,t[5]=l*o-a*r,t[6]=p*o-s*r,t[7]=f*o-u*r}(u,u,r*L),C(u,u,[i/=e,i,i]),s&&_(u,u,function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}([],s)),u}function Y(t){var e=t.width,n=t.height,r=t.pitch,o=function(t){var e=t.width,n=t.height,r=t.fovy,o=void 0===r?K(1.5):r,i=t.altitude,a=t.pitch,s=void 0===a?0:a,u=t.nearZMultiplier,c=void 0===u?1:u,l=t.farZMultiplier,p=void 0===l?1:l;void 0!==i&&(o=K(i));var f=.5*o*L,h=$(o),d=s*L,v=Math.sin(f)*h/Math.sin(Math.min(Math.max(Math.PI/2-d-f,.01),Math.PI-.01));return{fov:2*f,aspect:e/n,focalDistance:h,near:c,far:(Math.sin(d)*v+h)*p}}({width:e,height:n,altitude:t.altitude,fovy:t.fovy,pitch:r,nearZMultiplier:t.nearZMultiplier,farZMultiplier:t.farZMultiplier}),i=function(t,e,n,r,o){var i,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(i=1/(r-o),t[10]=(o+r)*i,t[14]=2*o*r*i):(t[10]=-1,t[14]=-2*r),t}([],o.fov,o.aspect,o.near,o.far);return i}function K(t){return 2*Math.atan(.5/t)*H}function $(t){return.5/Math.tan(.5*t*L)}function J(t,e){var n=d(t,3),r=n[0],o=n[1],i=n[2],a=void 0===i?0:i;return B(Number.isFinite(r)&&Number.isFinite(o)&&Number.isFinite(a)),P(e,[r,o,a,1])}function Q(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=d(t,3),o=r[0],i=r[1],a=r[2];if(B(Number.isFinite(o)&&Number.isFinite(i),"invalid pixel coordinate"),Number.isFinite(a)){var s=P(e,[o,i,a,1]);return s}var u=P(e,[o,i,0,1]),c=P(e,[o,i,1,1]),l=u[2],p=c[2],f=l===p?0:((n||0)-l)/(p-l);return I([],u,c,f)}function tt(t){var e=t.width,n=t.height,r=t.bounds,o=t.minExtent,i=void 0===o?0:o,a=t.maxZoom,s=void 0===a?24:a,u=t.padding,c=void 0===u?0:u,l=t.offset,p=void 0===l?[0,0]:l,f=d(r,2),h=d(f[0],2),v=h[0],g=h[1],m=d(f[1],2),y=m[0],b=m[1];if(Number.isFinite(c)){c={top:c,bottom:c,left:c,right:c}}else B(Number.isFinite(c.top)&&Number.isFinite(c.bottom)&&Number.isFinite(c.left)&&Number.isFinite(c.right));var w=new ot({width:e,height:n,longitude:0,latitude:0,zoom:0}),E=w.project([v,b]),P=w.project([y,g]),S=[Math.max(Math.abs(P[0]-E[0]),i),Math.max(Math.abs(P[1]-E[1]),i)],O=[e-c.left-c.right-2*Math.abs(p[0]),n-c.top-c.bottom-2*Math.abs(p[1])];B(O[0]>0&&O[1]>0);var R=O[0]/S[0],_=O[1]/S[1],C=(c.right-c.left)/2/R,M=(c.bottom-c.top)/2/_,k=[(P[0]+E[0])/2+C,(P[1]+E[1])/2+M],j=w.unproject(k),T=Math.min(s,w.zoom+x(Math.abs(Math.min(R,_))));return B(Number.isFinite(T)),{longitude:j[0],latitude:j[1],zoom:T}}var et=Math.PI/180;function nt(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=t.width,i=t.height,a=t.unproject,s={targetZ:r},u=a([0,i],s),c=a([o,i],s),l=t.fovy?.5*t.fovy*et:Math.atan(.5/t.altitude),p=(90-t.pitch)*et;return l>p-.01?(e=rt(t,0,r),n=rt(t,o,r)):(e=a([0,0],s),n=a([o,0],s)),[u,c,n,e]}function rt(t,e,n){var r=t.pixelUnprojectionMatrix,o=P(r,[e,0,1,1]),i=P(r,[e,t.height,1,1]),a=q(I([],o,i,(n*t.distanceScales.unitsPerMeter[2]-o[2])/(i[2]-o[2])));return a[2]=n,a}var ot=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:1,height:1},n=e.width,r=e.height,o=e.latitude,i=void 0===o?0:o,a=e.longitude,s=void 0===a?0:a,u=e.zoom,c=void 0===u?0:u,l=e.pitch,p=void 0===l?0:l,f=e.bearing,h=void 0===f?0:f,d=e.altitude,g=void 0===d?null:d,m=e.fovy,y=void 0===m?null:m,b=e.position,w=void 0===b?null:b,E=e.nearZMultiplier,P=void 0===E?.02:E,S=e.farZMultiplier,O=void 0===S?1.01:S;v(this,t),n=n||1,r=r||1,null===y&&null===g?y=K(g=1.5):null===y?y=K(g):null===g&&(g=$(y));var x=V(c);g=Math.max(.75,g);var R=X({longitude:s,latitude:i}),_=Z([s,i]);_[2]=0,w&&A(_,_,z([],w,R.unitsPerMeter)),this.projectionMatrix=Y({width:n,height:r,pitch:p,fovy:y,nearZMultiplier:P,farZMultiplier:O}),this.viewMatrix=U({height:r,scale:x,center:_,pitch:p,bearing:h,altitude:g}),this.width=n,this.height=r,this.scale=x,this.latitude=i,this.longitude=s,this.zoom=c,this.pitch=p,this.bearing=h,this.altitude=g,this.fovy=y,this.center=_,this.meterOffset=w||[0,0,0],this.distanceScales=R,this._initMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),Object.freeze(this)}return m(t,[{key:"_initMatrices",value:function(){var t=this.width,e=this.height,n=this.projectionMatrix,r=this.viewMatrix,o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];R(o,o,n),R(o,o,r),this.viewProjectionMatrix=o;var i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];C(i,i,[t/2,-e/2,1]),_(i,i,[1,-1,0]),R(i,i,o);var a=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],p=e[9],f=e[10],h=e[11],d=e[12],v=e[13],g=e[14],m=e[15],y=n*s-r*a,b=n*u-o*a,w=n*c-i*a,E=r*u-o*s,P=r*c-i*s,S=o*c-i*u,O=l*v-p*d,x=l*g-f*d,R=l*m-h*d,_=p*g-f*v,C=p*m-h*v,M=f*m-h*g,k=y*M-b*C+w*_+E*R-P*x+S*O;return k?(k=1/k,t[0]=(s*M-u*C+c*_)*k,t[1]=(o*C-r*M-i*_)*k,t[2]=(v*S-g*P+m*E)*k,t[3]=(f*P-p*S-h*E)*k,t[4]=(u*R-a*M-c*x)*k,t[5]=(n*M-o*R+i*x)*k,t[6]=(g*w-d*S-m*b)*k,t[7]=(l*S-f*w+h*b)*k,t[8]=(a*C-s*R+c*O)*k,t[9]=(r*R-n*C-i*O)*k,t[10]=(d*P-v*w+m*y)*k,t[11]=(p*w-l*P-h*y)*k,t[12]=(s*x-a*_-u*O)*k,t[13]=(n*_-r*x+o*O)*k,t[14]=(v*b-d*E-g*y)*k,t[15]=(l*E-p*b+f*y)*k,t):null}([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i);if(!a)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=i,this.pixelUnprojectionMatrix=a}},{key:"equals",value:function(e){return e instanceof t&&(e.width===this.width&&e.height===this.height&&M(e.projectionMatrix,this.projectionMatrix)&&M(e.viewMatrix,this.viewMatrix))}},{key:"project",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,o=this.projectPosition(t),i=J(o,this.pixelProjectionMatrix),a=d(i,2),s=a[0],u=a[1],c=r?u:this.height-u;return 2===t.length?[s,c]:[s,c,i[2]]}},{key:"unproject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,o=e.targetZ,i=void 0===o?void 0:o,a=d(t,3),s=a[0],u=a[1],c=a[2],l=r?u:this.height-u,p=i&&i*this.distanceScales.unitsPerMeter[2],f=Q([s,l,c],this.pixelUnprojectionMatrix,p),h=this.unprojectPosition(f),v=d(h,3),g=v[0],m=v[1],y=v[2];return Number.isFinite(c)?[g,m,y]:Number.isFinite(i)?[g,m,i]:[g,m]}},{key:"projectPosition",value:function(t){var e=d(Z(t),2);return[e[0],e[1],(t[2]||0)*this.distanceScales.unitsPerMeter[2]]}},{key:"unprojectPosition",value:function(t){var e=d(q(t),2);return[e[0],e[1],(t[2]||0)*this.distanceScales.metersPerUnit[2]]}},{key:"projectFlat",value:function(t){return Z(t)}},{key:"unprojectFlat",value:function(t){return q(t)}},{key:"getMapCenterByLngLatPosition",value:function(t){var e=t.lngLat,n=Q(t.pos,this.pixelUnprojectionMatrix),r=k([],Z(e),function(t,e){return t[0]=-e[0],t[1]=-e[1],t}([],n));return q(k([],this.center,r))}},{key:"getLocationAtPoint",value:function(t){var e=t.lngLat,n=t.pos;return this.getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"fitBounds",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,o=this.height,i=tt(Object.assign({width:r,height:o,bounds:e},n)),a=i.longitude,s=i.latitude,u=i.zoom;return new t({width:r,height:o,longitude:a,latitude:s,zoom:u})}},{key:"getBounds",value:function(t){var e=this.getBoundingRegion(t),n=Math.min.apply(Math,(0,r.Z)(e.map((function(t){return t[0]})))),o=Math.max.apply(Math,(0,r.Z)(e.map((function(t){return t[0]}))));return[[n,Math.min.apply(Math,(0,r.Z)(e.map((function(t){return t[1]}))))],[o,Math.max.apply(Math,(0,r.Z)(e.map((function(t){return t[1]}))))]]}},{key:"getBoundingRegion",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nt(this,t.z||0)}}]),t}();function it(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return at(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function at(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var st=.01,ut=["longitude","latitude","zoom"],ct={curve:1.414,speed:1.2};function lt(t,e,n){var r=(n=Object.assign({},ct,n)).curve,o=t.zoom,i=[t.longitude,t.latitude],a=V(o),s=e.zoom,u=[e.longitude,e.latitude],c=V(s-o),l=Z(i),p=Z(u),f=D([],p,l),h=Math.max(t.width,t.height),d=h/c,v=T(f)*a,g=Math.max(v,st),m=r*r,y=(d*d-h*h+m*m*g*g)/(2*h*m*g),b=(d*d-h*h-m*m*g*g)/(2*d*m*g),w=Math.log(Math.sqrt(y*y+1)-y),E=Math.log(Math.sqrt(b*b+1)-b);return{startZoom:o,startCenterXY:l,uDelta:f,w0:h,u1:v,S:(E-w)/r,rho:r,rho2:m,r0:w,r1:E}}var pt=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];t.call(e,o[1],o[0])}},e}()}(),ft="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,ht=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),dt="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(ht):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var vt=["top","right","bottom","left","width","height","size","weight"],gt="undefined"!=typeof MutationObserver,mt=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,o=0;function i(){n&&(n=!1,t()),r&&s()}function a(){dt(i)}function s(){var t=Date.now();if(n){if(t-o<2)return;r=!0}else n=!0,r=!1,setTimeout(a,e);o=t}return s}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){ft&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),gt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){ft&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;vt.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),yt=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},bt=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||ht},wt=Rt(0,0,0,0);function Et(t){return parseFloat(t)||0}function Pt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+Et(t["border-"+n+"-width"])}),0)}function St(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return wt;var r=bt(t).getComputedStyle(t),o=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=t["padding-"+o];e[o]=Et(i)}return e}(r),i=o.left+o.right,a=o.top+o.bottom,s=Et(r.width),u=Et(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==e&&(s-=Pt(r,"left","right")+i),Math.round(u+a)!==n&&(u-=Pt(r,"top","bottom")+a)),!function(t){return t===bt(t).document.documentElement}(t)){var c=Math.round(s+i)-e,l=Math.round(u+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return Rt(o.left,o.top,s,u)}var Ot="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof bt(t).SVGGraphicsElement}:function(t){return t instanceof bt(t).SVGElement&&"function"==typeof t.getBBox};function xt(t){return ft?Ot(t)?function(t){var e=t.getBBox();return Rt(0,0,e.width,e.height)}(t):St(t):wt}function Rt(t,e,n,r){return{x:t,y:e,width:n,height:r}}var _t=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Rt(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=xt(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),Ct=function(t,e){var n,r,o,i,a,s,u,c=(r=(n=e).x,o=n.y,i=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(s.prototype),yt(u,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),u);yt(this,{target:t,contentRect:c})},Mt=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new pt,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof bt(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new _t(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof bt(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new Ct(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),kt="undefined"!=typeof WeakMap?new WeakMap:new pt,jt=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=mt.getInstance(),r=new Mt(e,n,this);kt.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){jt.prototype[t]=function(){var e;return(e=kt.get(this))[t].apply(e,arguments)}}));var Tt=void 0!==ht.ResizeObserver?ht.ResizeObserver:jt,It=("undefined"!=typeof window?window:n.g,void 0!==n.g?n.g:window,"undefined"!=typeof document?document:{});function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Bt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ft=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Nt(t){if(!t)return null;if("string"==typeof t)return t;t.toJS&&(t=t.toJS());var e,n={},r=zt(t.layers);try{for(r.s();!(e=r.n()).done;){var o=e.value;n[o.id]=o}}catch(a){r.e(a)}finally{r.f()}var i=t.layers.map((function(t){var e=n[t.ref],r=null;if("interactive"in t&&delete(r=At({},t)).interactive,e){delete(r=r||At({},t)).ref;var o,i=zt(Ft);try{for(i.s();!(o=i.n()).done;){var s=o.value;s in e&&(r[s]=e[s])}}catch(a){i.e(a)}finally{i.f()}}return r||t}));return At(At({},t),{},{layers:i})}var Lt={container:f.object,gl:f.object,mapboxApiAccessToken:f.string,mapboxApiUrl:f.string,attributionControl:f.bool,preserveDrawingBuffer:f.bool,reuseMaps:f.bool,transformRequest:f.func,mapOptions:f.object,mapStyle:f.oneOfType([f.string,f.object]),preventStyleDiffing:f.bool,visible:f.bool,asyncRender:f.bool,onLoad:f.func,onError:f.func,width:f.number,height:f.number,viewState:f.object,longitude:f.number,latitude:f.number,zoom:f.number,bearing:f.number,pitch:f.number,altitude:f.number},Ht={container:It.body,mapboxApiAccessToken:function(){var t=null;if("undefined"!=typeof window&&window.location){var e=window.location.search.match(/access_token=([^&\/]*)/);t=e&&e[1]}t||"undefined"==typeof process||(t=t||{}.MapboxAccessToken||{}.REACT_APP_MAPBOX_ACCESS_TOKEN);return t||"no-token"}(),mapboxApiUrl:"https://api.mapbox.com",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:"mapbox://styles/mapbox/light-v8",preventStyleDiffing:!1,visible:!0,asyncRender:!1,onLoad:function(){},onError:function(t){t&&console.error(t.error)},width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0,altitude:1.5};function Gt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";t.debug&&f.checkPropTypes(Lt,t,"prop",e)}var Vt=function(){function t(e){var n=this;if(v(this,t),p(this,"props",Ht),p(this,"width",0),p(this,"height",0),p(this,"_fireLoadEvent",(function(){n.props.onLoad({type:"load",target:n._map})})),p(this,"_handleError",(function(t){n.props.onError(t)})),!e.mapboxgl)throw new Error("Mapbox not available");this.mapboxgl=e.mapboxgl,t.initialized||(t.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(e)}return m(t,[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(t){return this._update(this.props,t),this}},{key:"redraw",value:function(){var t=this._map;t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}},{key:"getMap",value:function(){return this._map}},{key:"_reuse",value:function(e){this._map=t.savedMap;var n=this._map.getContainer(),r=e.container;for(r.classList.add("mapboxgl-map");n.childNodes.length>0;)r.appendChild(n.childNodes[0]);this._map._container=r,t.savedMap=null,e.mapStyle&&this._map.setStyle(Nt(e.mapStyle),{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once("styledata",this._fireLoadEvent)}},{key:"_create",value:function(e){if(e.reuseMaps&&t.savedMap)this._reuse(e);else{if(e.gl){var n=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=n,e.gl}}var r={container:e.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:Nt(e.mapStyle),interactive:!1,trackResize:!1,attributionControl:e.attributionControl,preserveDrawingBuffer:e.preserveDrawingBuffer};e.transformRequest&&(r.transformRequest=e.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},r,e.mapOptions)),this._map.once("load",this._fireLoadEvent),this._map.on("error",this._handleError)}return this}},{key:"_destroy",value:function(){this._map&&(this.props.reuseMaps&&!t.savedMap?(t.savedMap=this._map,this._map.off("load",this._fireLoadEvent),this._map.off("error",this._handleError),this._map.off("styledata",this._fireLoadEvent)):this._map.remove(),this._map=null)}},{key:"_initialize",value:function(t){var e=this;Gt(t=Object.assign({},Ht,t),"Mapbox"),this.mapboxgl.accessToken=t.mapboxApiAccessToken||Ht.mapboxApiAccessToken,this.mapboxgl.baseApiUrl=t.mapboxApiUrl,this._create(t);var n=t.container;Object.defineProperty(n,"offsetWidth",{get:function(){return e.width}}),Object.defineProperty(n,"clientWidth",{get:function(){return e.width}}),Object.defineProperty(n,"offsetHeight",{get:function(){return e.height}}),Object.defineProperty(n,"clientHeight",{get:function(){return e.height}});var r=this._map.getCanvas();r&&(r.style.outline="none"),this._updateMapViewport({},t),this._updateMapSize({},t),this.props=t}},{key:"_update",value:function(t,e){if(this._map){Gt(e=Object.assign({},this.props,e),"Mapbox");var n=this._updateMapViewport(t,e),r=this._updateMapSize(t,e);this._updateMapStyle(t,e),e.asyncRender||!n&&!r||this.redraw(),this.props=e}}},{key:"_updateMapStyle",value:function(t,e){t.mapStyle!==e.mapStyle&&this._map.setStyle(Nt(e.mapStyle),{diff:!e.preventStyleDiffing})}},{key:"_updateMapSize",value:function(t,e){var n=t.width!==e.width||t.height!==e.height;return n&&(this.width=e.width,this.height=e.height,this._map.resize()),n}},{key:"_updateMapViewport",value:function(t,e){var n=this._getViewState(t),r=this._getViewState(e),o=r.latitude!==n.latitude||r.longitude!==n.longitude||r.zoom!==n.zoom||r.pitch!==n.pitch||r.bearing!==n.bearing||r.altitude!==n.altitude;return o&&(this._map.jumpTo(this._viewStateToMapboxProps(r)),r.altitude!==n.altitude&&(this._map.transform.altitude=r.altitude)),o}},{key:"_getViewState",value:function(t){var e=t.viewState||t,n=e.longitude,r=e.latitude,o=e.zoom,i=e.pitch,a=void 0===i?0:i,s=e.bearing,u=void 0===s?0:s,c=e.altitude;return{longitude:n,latitude:r,zoom:o,pitch:a,bearing:u,altitude:void 0===c?1.5:c}}},{key:"_checkStyleSheet",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.47.0";if(void 0!==It)try{var e=It.createElement("div");e.className="mapboxgl-map",e.style.display="none",It.body.appendChild(e);var n="static"!==window.getComputedStyle(e).position;if(!n){var r=It.createElement("link");r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href","https://api.tiles.mapbox.com/mapbox-gl-js/v".concat(t,"/mapbox-gl.css")),It.head.appendChild(r)}}catch(o){}}},{key:"_viewStateToMapboxProps",value:function(t){return{center:[t.longitude,t.latitude],zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}}}]),t}();p(Vt,"initialized",!1),p(Vt,"propTypes",Lt),p(Vt,"defaultProps",Ht),p(Vt,"savedMap",null);var Wt=n(2974),Zt=n.n(Wt);function qt(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function Xt(t,e){if(t===e)return!0;if(qt(t)&&qt(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Xt(t[n],e[n]))return!1;return!0}return Math.abs(t-e)<=1e-7}function Ut(t,e,n){return Math.max(e,Math.min(n,t))}function Yt(t,e,n){return qt(t)?t.map((function(t,r){return Yt(t,e[r],n)})):n*e+(1-n)*t}function Kt(t,e){if(!t)throw new Error(e||"react-map-gl: assertion failed.")}function $t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$t(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Qt={minZoom:0,maxZoom:24,minPitch:0,maxPitch:85},te=0,ee=0,ne=1.5,re=function(){function t(e){var n=e.width,r=e.height,o=e.latitude,i=e.longitude,a=e.zoom,s=e.bearing,u=void 0===s?ee:s,c=e.pitch,l=void 0===c?te:c,p=e.altitude,f=void 0===p?ne:p,h=e.maxZoom,d=void 0===h?Qt.maxZoom:h,g=e.minZoom,m=void 0===g?Qt.minZoom:g,y=e.maxPitch,b=void 0===y?Qt.maxPitch:y,w=e.minPitch,E=void 0===w?Qt.minPitch:w,P=e.transitionDuration,S=e.transitionEasing,O=e.transitionInterpolator,x=e.transitionInterruption,R=e.startPanLngLat,_=e.startZoomLngLat,C=e.startRotatePos,M=e.startBearing,k=e.startPitch,j=e.startZoom;v(this,t),Kt(Number.isFinite(n),"`width` must be supplied"),Kt(Number.isFinite(r),"`height` must be supplied"),Kt(Number.isFinite(i),"`longitude` must be supplied"),Kt(Number.isFinite(o),"`latitude` must be supplied"),Kt(Number.isFinite(a),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:n,height:r,latitude:o,longitude:i,zoom:a,bearing:u,pitch:l,altitude:f,maxZoom:d,minZoom:m,maxPitch:b,minPitch:E,transitionDuration:P,transitionEasing:S,transitionInterpolator:O,transitionInterruption:x}),this._state={startPanLngLat:R,startZoomLngLat:_,startRotatePos:C,startBearing:M,startPitch:k,startZoom:j}}return m(t,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getState",value:function(){return this._state}},{key:"panStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(e)})}},{key:"pan",value:function(t){var e=t.pos,n=t.startPos,r=this._state.startPanLngLat||this._unproject(n);if(!r)return this;var o=d(this._calculateNewLngLat({startPanLngLat:r,pos:e}),2),i=o[0],a=o[1];return this._getUpdatedMapState({longitude:i,latitude:a})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startRotatePos:e,startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(t){var e,n=t.pos,r=t.deltaAngleX,o=void 0===r?0:r,i=t.deltaAngleY,a=void 0===i?0:i,s=this._state,u=s.startRotatePos,c=s.startBearing,l=s.startPitch;return Number.isFinite(c)&&Number.isFinite(l)?(e=n?this._calculateNewPitchAndBearing(Jt(Jt({},this._getRotationParams(n,u)),{},{startBearing:c,startPitch:l})):{bearing:c+o,pitch:l+a},this._getUpdatedMapState(e)):this}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(e),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(t){var e=t.pos,n=t.startPos,r=t.scale;Kt(r>0,"`scale` must be a positive number");var o=this._state,i=o.startZoom,a=o.startZoomLngLat;Number.isFinite(i)||(i=this._viewportProps.zoom,a=this._unproject(n)||this._unproject(e)),Kt(a,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var s=this._calculateNewZoom({scale:r,startZoom:i||0}),u=d(new ot(Object.assign({},this._viewportProps,{zoom:s})).getMapCenterByLngLatPosition({lngLat:a,pos:e}),2),c=u[0],l=u[1];return this._getUpdatedMapState({zoom:s,longitude:c,latitude:l})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(e){return new t(Object.assign({},this._viewportProps,this._state,e))}},{key:"_applyConstraints",value:function(t){var e=t.maxZoom,n=t.minZoom,r=t.zoom;t.zoom=Ut(r,n,e);var o=t.maxPitch,i=t.minPitch,a=t.pitch;return t.pitch=Ut(a,i,o),Object.assign(t,function(t){var e=t.width,n=t.height,r=t.longitude,o=t.latitude,i=t.zoom,a=t.pitch,s=void 0===a?0:a,u=t.bearing,c=void 0===u?0:u;(r<-180||r>180)&&(r=S(r+180,360)-180),(c<-180||c>180)&&(c=S(c+180,360)-180);var l=x(n/512);if(i<=l)i=l,o=0;else{var p=n/2/Math.pow(2,i),f=q([0,p])[1];if(o<f)o=f;else{var h=q([0,512-p])[1];o>h&&(o=h)}}return{width:e,height:n,longitude:r,latitude:o,zoom:i,pitch:s,bearing:c}}(t)),t}},{key:"_unproject",value:function(t){var e=new ot(this._viewportProps);return t&&e.unproject(t)}},{key:"_calculateNewLngLat",value:function(t){var e=t.startPanLngLat,n=t.pos;return new ot(this._viewportProps).getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"_calculateNewZoom",value:function(t){var e=t.scale,n=t.startZoom,r=this._viewportProps,o=r.maxZoom,i=r.minZoom;return Ut(n+Math.log2(e),i,o)}},{key:"_calculateNewPitchAndBearing",value:function(t){var e=t.deltaScaleX,n=t.deltaScaleY,r=t.startBearing,o=t.startPitch;n=Ut(n,-1,1);var i=this._viewportProps,a=i.minPitch,s=i.maxPitch,u=o;return n>0?u=o+n*(s-o):n<0&&(u=o-n*(a-o)),{pitch:u,bearing:r+180*e}}},{key:"_getRotationParams",value:function(t,e){var n=t[0]-e[0],r=t[1]-e[1],o=t[1],i=e[1],a=this._viewportProps,s=a.width,u=a.height,c=n/s,l=0;return r>0?Math.abs(u-i)>5&&(l=r/(i-u)*1.2):r<0&&i>5&&(l=1-o/i),{deltaScaleX:c,deltaScaleY:l=Math.min(1,Math.max(-1,l))}}}]),t}();function oe(t){return t[0].toLowerCase()+t.slice(1)}function ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ie(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var se=(0,o.createContext)({viewport:null,map:null,container:null,onViewportChange:null,onViewStateChange:null,eventManager:null}),ue=se.Provider;se.Provider=function(t){var e=t.value,n=t.children,r=d((0,o.useState)(null),2),i=r[0],a=r[1],s=(0,o.useContext)(se);return e=ae(ae({setMap:a},s),{},{map:s&&s.map||i},e),o.createElement(ue,{value:e},n)};var ce=se,le="undefined"!=typeof window?o.useLayoutEffect:o.useEffect;function pe(t,e){var n=e.longitude,r=e.latitude;return t&&t.queryTerrainElevation&&t.queryTerrainElevation([n,r])||0}function fe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function he(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fe(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var de="A valid API access token is required to use Mapbox data";function ve(t){var e=t.map,n=t.props,r=t.width,o=t.height,i=he(he(he({},n),n.viewState),{},{width:r,height:o});return i.position=[0,0,pe(e,i)],new ot(i)}var ge={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},me=Object.assign({},Vt.defaultProps,{disableTokenWarning:!1,visible:!0,onResize:function(){},className:"",style:null,visibilityConstraints:Qt});function ye(){return o.createElement("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},o.createElement("h3",{key:"header"},de),o.createElement("div",{key:"text"},"For information on setting up your basemap, read"),o.createElement("a",{key:"link",href:"https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens"},"Note on Map Tokens"))}var be=(0,o.forwardRef)((function(t,e){var n=d((0,o.useState)(!0),2),r=n[0],i=n[1],a=d((0,o.useState)({width:0,height:0}),2),s=a[0],u=a[1],c=(0,o.useRef)(null),l=(0,o.useRef)(null),p=(0,o.useRef)(null),f=(0,o.useRef)(null),h=(0,o.useContext)(ce);le((function(){if(be.supported()){var e=new Vt(he(he(he({},t),s),{},{mapboxgl:Zt(),container:l.current,onError:function(e){401===(e.error&&e.error.status||e.status)&&r&&(console.error(de),i(!1)),t.onError(e)}}));c.current=e,h&&h.setMap&&h.setMap(e.getMap());var n=new Tt((function(e){if(e[0].contentRect){var n=e[0].contentRect,r=n.width,o=n.height;u({width:r,height:o}),t.onResize({width:r,height:o})}}));return n.observe(p.current),function(){e.finalize(),c.current=null,n.disconnect()}}}),[]),le((function(){c.current&&c.current.setProps(he(he({},t),s))}));var v=c.current&&c.current.getMap();(0,o.useImperativeHandle)(e,(function(){return function(t){return{getMap:function(){return t.current&&t.current.getMap()},queryRenderedFeatures:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.current&&t.current.getMap();return r&&r.queryRenderedFeatures(e,n)}}}(c)}),[]);var g=(0,o.useCallback)((function(t){var e=t.target;e===f.current&&e.scrollTo(0,0)}),[]),m=v&&o.createElement(ue,{value:he(he({},h),{},{viewport:h.viewport||ve(he({map:v,props:t},s)),map:v,container:h.container||p.current})},o.createElement("div",{key:"map-overlays",className:"overlays",ref:f,style:ge,onScroll:g},t.children)),y=t.className,b=t.width,w=t.height,E=t.style,P=t.visibilityConstraints,S=Object.assign({position:"relative"},E,{width:b,height:w}),O=t.visible&&function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qt;for(var n in e){var r=n.slice(0,3),o=oe(n.slice(3));if("min"===r&&t[o]<e[n])return!1;if("max"===r&&t[o]>e[n])return!1}return!0}(t.viewState||t,P),x=Object.assign({},ge,{visibility:O?"inherit":"hidden"});return o.createElement("div",{key:"map-container",ref:p,style:S},o.createElement("div",{key:"map-mapbox",ref:l,style:x,className:y}),m,!r&&!t.disableTokenWarning&&o.createElement(ye,null))}));be.supported=function(){return Zt()&&Zt().supported()},be.defaultProps=me;var we=be;function Ee(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Pe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Pe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Se=function(){function t(){v(this,t),p(this,"propNames",[])}return m(t,[{key:"arePropsEqual",value:function(t,e){var n,r=Ee(this.propNames||[]);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(!Xt(t[o],e[o]))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}},{key:"initializeProps",value:function(t,e){return{start:t,end:e}}},{key:"interpolateProps",value:function(t,e,n){Kt(!1,"interpolateProps is not implemented")}},{key:"getDuration",value:function(t,e){return e.transitionDuration}}]),t}();function Oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var xe=n(9611);function Re(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&(0,xe.Z)(t,e)}var _e=n(8);function Ce(t,e){if(e&&("object"===_e(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Oe(t)}function Me(t){return Me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Me(t)}var ke={longitude:1,bearing:1};function je(t){return Number.isFinite(t)||Array.isArray(t)}function Te(t,e,n){return function(t){return t in ke}(t)&&Math.abs(n-e)>180&&(n=n<0?n+360:n-360),n}function Ie(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return De(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function De(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var o=Me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ce(this,n)}}var ze=["longitude","latitude","zoom","bearing","pitch"],Be=["latitude","longitude","zoom","width","height"],Fe=["bearing","pitch"],Ne={speed:1.2,curve:1.414};!function(t){Re(n,t);var e=Ae(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v(this,n),p(Oe(t=e.call(this)),"propNames",ze),t.props=Object.assign({},Ne,r),t}m(n,[{key:"initializeProps",value:function(t,e){var n,r={},o={},i=Ie(Be);try{for(i.s();!(n=i.n()).done;){var a=n.value,s=t[a],u=e[a];Kt(je(s)&&je(u),"".concat(a," must be supplied for transition")),r[a]=s,o[a]=Te(a,s,u)}}catch(d){i.e(d)}finally{i.f()}var c,l=Ie(Fe);try{for(l.s();!(c=l.n()).done;){var p=c.value,f=t[p]||0,h=e[p]||0;r[p]=f,o[p]=Te(p,f,h)}}catch(d){l.e(d)}finally{l.f()}return{start:r,end:o}}},{key:"interpolateProps",value:function(t,e,n){var r,o=function(t,e,n){var r={},o=lt(t,e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),i=o.startZoom,a=o.startCenterXY,s=o.uDelta,u=o.w0,c=o.u1,l=o.S,p=o.rho,f=o.rho2,h=o.r0;if(c<st){var d,v=it(ut);try{for(v.s();!(d=v.n()).done;){var g=d.value,m=t[g],y=e[g];r[g]=O(m,y,n)}}catch(R){v.e(R)}finally{v.f()}return r}var b=n*l,w=Math.cosh(h)/Math.cosh(h+p*b),E=u*((Math.cosh(h)*Math.tanh(h+p*b)-Math.sinh(h))/f)/c,P=i+W(1/w),S=j([],s,E);k(S,S,a);var x=q(S);return r.longitude=x[0],r.latitude=x[1],r.zoom=P,r}(t,e,n,this.props),i=Ie(Fe);try{for(i.s();!(r=i.n()).done;){var a=r.value;o[a]=Yt(t[a],e[a],n)}}catch(s){i.e(s)}finally{i.f()}return o}},{key:"getDuration",value:function(t,e){var n=e.transitionDuration;return"auto"===n&&(n=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r=Object.assign({},ct,r),i=o.screenSpeed,a=o.speed,s=o.maxDuration,u=lt(t,e,r),c=u.S,l=u.rho,p=1e3*c;return n=Number.isFinite(i)?p/(i/l):p/a,Number.isFinite(s)&&n>s?0:n}(t,e,this.props)),n}}])}(Se);function Le(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return He(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return He(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function He(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ge(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var o=Me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ce(this,n)}}var Ve=["longitude","latitude","zoom","bearing","pitch"],We=function(t){Re(n,t);var e=Ge(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v(this,n),t=e.call(this),Array.isArray(r)&&(r={transitionProps:r}),t.propNames=r.transitionProps||Ve,r.around&&(t.around=r.around),t}return m(n,[{key:"initializeProps",value:function(t,e){var n={},r={};if(this.around){n.around=this.around;var o=new ot(t).unproject(this.around);Object.assign(r,e,{around:new ot(e).project(o),aroundLngLat:o})}var i,a=Le(this.propNames);try{for(a.s();!(i=a.n()).done;){var s=i.value,u=t[s],c=e[s];Kt(je(u)&&je(c),"".concat(s," must be supplied for transition")),n[s]=u,r[s]=Te(s,u,c)}}catch(l){a.e(l)}finally{a.f()}return{start:n,end:r}}},{key:"interpolateProps",value:function(t,e,n){var r,o={},i=Le(this.propNames);try{for(i.s();!(r=i.n()).done;){var a=r.value;o[a]=Yt(t[a],e[a],n)}}catch(l){i.e(l)}finally{i.f()}if(e.around){var s=d(new ot(Object.assign({},e,o)).getMapCenterByLngLatPosition({lngLat:e.aroundLngLat,pos:Yt(t.around,e.around,n)}),2),u=s[0],c=s[1];o.longitude=u,o.latitude=c}return o}}]),n}(Se),Ze=function(){};var qe=1,Xe=2,Ue=3,Ye=4,Ke={transitionDuration:0,transitionEasing:function(t){return t},transitionInterpolator:new We,transitionInterruption:qe,onTransitionStart:Ze,onTransitionInterrupt:Ze,onTransitionEnd:Ze},$e=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v(this,t),p(this,"_animationFrame",null),p(this,"_onTransitionFrame",(function(){e._animationFrame=requestAnimationFrame(e._onTransitionFrame),e._updateViewport()})),this.props=null,this.onViewportChange=n.onViewportChange||Ze,this.onStateChange=n.onStateChange||Ze,this.time=n.getTime||Date.now}return m(t,[{key:"getViewportInTransition",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:"processViewportChange",value:function(t){var e=this.props;if(this.props=t,!e||this._shouldIgnoreViewportChange(e,t))return!1;if(this._isTransitionEnabled(t)){var n=Object.assign({},e),r=Object.assign({},t);if(this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this.state.interruption===Xe?Object.assign(n,this.state.endProps):Object.assign(n,this.state.propsInTransition),this.state.interruption===Ye)){var o=this.time(),i=(o-this.state.startTime)/this.state.duration;r.transitionDuration=this.state.duration-(o-this.state.startTime),r.transitionEasing=function(t,e){var n=t(e);return function(r){return 1/(1-n)*(t(r*(1-e)+e)-n)}}(this.state.easing,i),r.transitionInterpolator=n.transitionInterpolator}return r.onTransitionStart(),this._triggerTransition(n,r),!0}return this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this._endTransition()),!1}},{key:"_isTransitionInProgress",value:function(){return Boolean(this._animationFrame)}},{key:"_isTransitionEnabled",value:function(t){var e=t.transitionDuration,n=t.transitionInterpolator;return(e>0||"auto"===e)&&Boolean(n)}},{key:"_isUpdateDueToCurrentTransition",value:function(t){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(t,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(t,e){return!t||(this._isTransitionInProgress()?this.state.interruption===Ue||this._isUpdateDueToCurrentTransition(e):!this._isTransitionEnabled(e)||e.transitionInterpolator.arePropsEqual(t,e))}},{key:"_triggerTransition",value:function(t,e){Kt(this._isTransitionEnabled(e)),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var n=e.transitionInterpolator,r=n.getDuration?n.getDuration(t,e):e.transitionDuration;if(0!==r){var o=e.transitionInterpolator.initializeProps(t,e),i={inTransition:!0,isZooming:t.zoom!==e.zoom,isPanning:t.longitude!==e.longitude||t.latitude!==e.latitude,isRotating:t.bearing!==e.bearing||t.pitch!==e.pitch};this.state={duration:r,easing:e.transitionEasing,interpolator:e.transitionInterpolator,interruption:e.transitionInterruption,startTime:this.time(),startProps:o.start,endProps:o.end,animation:null,propsInTransition:{}},this._onTransitionFrame(),this.onStateChange(i)}}},{key:"_endTransition",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:"_updateViewport",value:function(){var t=this.time(),e=this.state,n=e.startTime,r=e.duration,o=e.easing,i=e.interpolator,a=e.startProps,s=e.endProps,u=!1,c=(t-n)/r;c>=1&&(c=1,u=!0),c=o(c);var l=i.interpolateProps(a,s,c),p=new re(Object.assign({},this.props,l));this.state.propsInTransition=p.getViewportProps(),this.onViewportChange(this.state.propsInTransition,this.props),u&&(this._endTransition(),this.props.onTransitionEnd())}}]),t}();p($e,"defaultProps",Ke);var Je,Qe,tn=n(5087),en=n.n(tn),nn={mousedown:1,mousemove:2,mouseup:4};Je=en().PointerEventInput,Qe=Je.prototype.handler,Je.prototype.handler=function(t){var e=this.store;t.button>0&&"pointerdown"===t.type&&(function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}(e,(function(e){return e.pointerId===t.pointerId}))||e.push(t)),Qe.call(this,t)},en().MouseInput.prototype.handler=function(t){var e=nn[t.type];1&e&&t.button>=0&&(this.pressed=!0),2&e&&0===t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))};var rn=en().Manager,on=en(),an=on?[[on.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[on.Rotate,{enable:!1}],[on.Pinch,{enable:!1}],[on.Swipe,{enable:!1}],[on.Pan,{threshold:0,enable:!1}],[on.Press,{enable:!1}],[on.Tap,{event:"doubletap",taps:2,enable:!1}],[on.Tap,{event:"anytap",enable:!1}],[on.Tap,{enable:!1}]]:null,sn={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},un={doubletap:["tap"]},cn={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},ln=["keydown","keyup"],pn=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],fn=["wheel","mousewheel"],hn={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},dn={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},vn="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",gn="undefined"!=typeof window?window:n.g,mn=(void 0!==n.g?n.g:window,"undefined"!=typeof document&&document,!1);try{var yn={get passive(){return mn=!0,!0}};gn.addEventListener("test",yn,yn),gn.removeEventListener("test",yn,yn)}catch(Io){}var bn=-1!==vn.indexOf("firefox"),wn=fn,En="wheel",Pn=4.000244140625,Sn=function(){function t(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},o),this.events=wn.concat(o.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent,!!mn&&{passive:!1})}))}return m(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){t===En&&(this.options.enable=e)}},{key:"handleEvent",value:function(t){if(this.options.enable){var e=t.deltaY;gn.WheelEvent&&(bn&&t.deltaMode===gn.WheelEvent.DOM_DELTA_PIXEL&&(e/=gn.devicePixelRatio),t.deltaMode===gn.WheelEvent.DOM_DELTA_LINE&&(e*=40));var n={x:t.clientX,y:t.clientY};0!==e&&e%Pn==0&&(e=Math.floor(e/Pn)),t.shiftKey&&e&&(e*=.25),this._onWheel(t,-e,n)}}},{key:"_onWheel",value:function(t,e,n){this.callback({type:En,center:n,delta:e,srcEvent:t,pointerType:"mouse",target:t.target})}}]),t}(),On=pn,xn="pointermove",Rn="pointerover",_n="pointerout",Cn="pointerleave",Mn=function(){function t(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v(this,t),this.element=e,this.callback=n,this.pressed=!1,this.options=Object.assign({enable:!0},o),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.enableOutEvent=this.options.enable,this.enableOverEvent=this.options.enable,this.events=On.concat(o.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent)}))}return m(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){t===xn&&(this.enableMoveEvent=e),t===Rn&&(this.enableOverEvent=e),t===_n&&(this.enableOutEvent=e),t===Cn&&(this.enableLeaveEvent=e)}},{key:"handleEvent",value:function(t){this.handleOverEvent(t),this.handleOutEvent(t),this.handleLeaveEvent(t),this.handleMoveEvent(t)}},{key:"handleOverEvent",value:function(t){this.enableOverEvent&&"mouseover"===t.type&&this.callback({type:Rn,srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleOutEvent",value:function(t){this.enableOutEvent&&"mouseout"===t.type&&this.callback({type:_n,srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleLeaveEvent",value:function(t){this.enableLeaveEvent&&"mouseleave"===t.type&&this.callback({type:Cn,srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleMoveEvent",value:function(t){if(this.enableMoveEvent)switch(t.type){case"mousedown":t.button>=0&&(this.pressed=!0);break;case"mousemove":0===t.which&&(this.pressed=!1),this.pressed||this.callback({type:xn,srcEvent:t,pointerType:"mouse",target:t.target});break;case"mouseup":this.pressed=!1}}}]),t}(),kn=ln,jn="keydown",Tn="keyup",In=function(){function t(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},o),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=kn.concat(o.events||[]),this.handleEvent=this.handleEvent.bind(this),e.tabIndex=o.tabIndex||0,e.style.outline="none",this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent)}))}return m(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){t===jn&&(this.enableDownEvent=e),t===Tn&&(this.enableUpEvent=e)}},{key:"handleEvent",value:function(t){var e=t.target||t.srcElement;"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName||(this.enableDownEvent&&"keydown"===t.type&&this.callback({type:jn,srcEvent:t,key:t.key,target:t.target}),this.enableUpEvent&&"keyup"===t.type&&this.callback({type:Tn,srcEvent:t,key:t.key,target:t.target}))}}]),t}(),Dn="contextmenu",An=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},r),this.handleEvent=this.handleEvent.bind(this),e.addEventListener("contextmenu",this.handleEvent)}return m(t,[{key:"destroy",value:function(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"enableEventType",value:function(t,e){t===Dn&&(this.options.enable=e)}},{key:"handleEvent",value:function(t){this.options.enable&&this.callback({type:Dn,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}]),t}(),zn={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};var Bn={srcElement:"root",priority:0},Fn=function(){function t(e){v(this,t),this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this.handleEvent=this.handleEvent.bind(this),this._active=!1}return m(t,[{key:"isEmpty",value:function(){return!this._active}},{key:"add",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=this.handlers,a=this.handlersByElement;n&&("object"!=typeof n||n.addEventListener)&&(n={srcElement:n}),n=n?Object.assign({},Bn,n):Bn;var s=a.get(n.srcElement);s||(s=[],a.set(n.srcElement,s));var u={type:t,handler:e,srcElement:n.srcElement,priority:n.priority};r&&(u.once=!0),o&&(u.passive=!0),i.push(u),this._active=this._active||!u.passive;for(var c=s.length-1;c>=0&&!(s[c].priority>=u.priority);)c--;s.splice(c+1,0,u)}},{key:"remove",value:function(t,e){for(var n=this.handlers,r=this.handlersByElement,o=n.length-1;o>=0;o--){var i=n[o];if(i.type===t&&i.handler===e){n.splice(o,1);var a=r.get(i.srcElement);a.splice(a.indexOf(i),1),0===a.length&&r.delete(i.srcElement)}}this._active=n.some((function(t){return!t.passive}))}},{key:"handleEvent",value:function(t){if(!this.isEmpty()){for(var e=this._normalizeEvent(t),n=t.srcEvent.target;n&&n!==e.rootElement;){if(this._emit(e,n),e.handled)return;n=n.parentNode}this._emit(e,"root")}}},{key:"_emit",value:function(t,e){var n=this.handlersByElement.get(e);if(n){for(var r=!1,o=function(){t.handled=!0},i=function(){t.handled=!0,r=!0},a=[],s=0;s<n.length;s++){var u=n[s],c=u.type,l=u.handler,p=u.once;if(l(Object.assign({},t,{type:c,stopPropagation:o,stopImmediatePropagation:i})),p&&a.push(n[s]),r)break}for(var f=0;f<a.length;f++){var h=a[f],d=h.type,v=h.handler;this.remove(d,v)}}}},{key:"_normalizeEvent",value:function(t){var e=this.eventManager.element;return Object.assign({},t,function(t){var e=zn[t.srcEvent.type];if(!e)return null;var n=t.srcEvent,r=n.buttons,o=n.button,i=n.which,a=!1,s=!1,u=!1;return 4===e||2===e&&!Number.isFinite(r)?(a=1===i,s=2===i,u=3===i):2===e?(a=Boolean(1&r),s=Boolean(4&r),u=Boolean(2&r)):1===e&&(a=0===o,s=1===o,u=2===o),{leftButton:a,middleButton:s,rightButton:u}}(t),function(t,e){var n=t.srcEvent;if(!t.center&&!Number.isFinite(n.clientX))return null;var r=t.center||{x:n.clientX,y:n.clientY},o=e.getBoundingClientRect(),i=o.width/e.offsetWidth||1,a=o.height/e.offsetHeight||1;return{center:r,offsetCenter:{x:(r.x-o.left-e.clientLeft)/i,y:(r.y-o.top-e.clientTop)/a}}}(t,e),{handled:!1,rootElement:e})}}]),t}();function Nn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ln(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ln(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ln(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hn={events:null,recognizers:null,recognizerOptions:{},Manager:rn,touchAction:"none",tabIndex:0},Gn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(this,t),this.options=Object.assign({},Hn,n),this.events=new Map,this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(e);var r=n.events;r&&this.on(r)}return m(t,[{key:"setElement",value:function(t){var e=this;if(this.element&&this.destroy(),this.element=t,t){var n=this.options,r=n.Manager;for(var o in this.manager=new r(t,{touchAction:n.touchAction,recognizers:n.recognizers||an}).on("hammer.input",this._onBasicInput),n.recognizers||Object.keys(sn).forEach((function(t){var n=e.manager.get(t);n&&sn[t].forEach((function(t){n.recognizeWith(t)}))})),n.recognizerOptions){var i=this.manager.get(o);if(i){var a=n.recognizerOptions[o];delete a.enable,i.set(a)}}this.wheelInput=new Sn(t,this._onOtherEvent,{enable:!1}),this.moveInput=new Mn(t,this._onOtherEvent,{enable:!1}),this.keyInput=new In(t,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new An(t,this._onOtherEvent,{enable:!1});var s,u=Nn(this.events);try{for(u.s();!(s=u.n()).done;){var c=d(s.value,2),l=c[0],p=c[1];p.isEmpty()||(this._toggleRecognizer(p.recognizerName,!0),this.manager.on(l,p.handleEvent))}}catch(Io){u.e(Io)}finally{u.f()}}}},{key:"destroy",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(t,e,n){this._addEventHandler(t,e,n,!1)}},{key:"once",value:function(t,e,n){this._addEventHandler(t,e,n,!0)}},{key:"watch",value:function(t,e,n){this._addEventHandler(t,e,n,!1,!0)}},{key:"off",value:function(t,e){this._removeEventHandler(t,e)}},{key:"_toggleRecognizer",value:function(t,e){var n=this.manager;if(n){var r=n.get(t);if(r&&r.options.enable!==e){r.set({enable:e});var o=un[t];o&&!this.options.recognizers&&o.forEach((function(o){var i=n.get(o);e?(i.requireFailure(t),r.dropRequireFailure(o)):i.dropRequireFailure(t)}))}this.wheelInput.enableEventType(t,e),this.moveInput.enableEventType(t,e),this.keyInput.enableEventType(t,e),this.contextmenuInput.enableEventType(t,e)}}},{key:"_addEventHandler",value:function(t,e,n,r,o){if("string"==typeof t){var i=this.manager,a=this.events,s=dn[t]||t,u=a.get(s);u||(u=new Fn(this),a.set(s,u),u.recognizerName=hn[s]||s,i&&i.on(s,u.handleEvent)),u.add(t,e,n,r,o),u.isEmpty()||this._toggleRecognizer(u.recognizerName,!0)}else for(var c in n=e,t)this._addEventHandler(c,t[c],n,r,o)}},{key:"_removeEventHandler",value:function(t,e){if("string"==typeof t){var n=this.events,r=dn[t]||t,o=n.get(r);if(o&&(o.remove(t,e),o.isEmpty())){var i,a=o.recognizerName,s=!1,u=Nn(n.values());try{for(u.s();!(i=u.n()).done;){var c=i.value;if(c.recognizerName===a&&!c.isEmpty()){s=!0;break}}}catch(Io){u.e(Io)}finally{u.f()}s||this._toggleRecognizer(a,!1)}}else for(var l in t)this._removeEventHandler(l,t[l])}},{key:"_onBasicInput",value:function(t){var e=t.srcEvent,n=cn[e.type];n&&this.manager.emit(n,t)}},{key:"_onOtherEvent",value:function(t){this.manager.emit(t.type,t)}}]),t}();function Vn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vn(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Zn={transitionDuration:0},qn={transitionDuration:300,transitionEasing:function(t){return t},transitionInterpolator:new We,transitionInterruption:qe},Xn=300,Un=function(t){return 1-(1-t)*(1-t)},Yn=["wheel"],Kn=["panstart","panmove","panend"],$n=["pinchstart","pinchmove","pinchend"],Jn=["tripanstart","tripanmove","tripanend"],Qn=["doubletap"],tr=["keydown"],er=function(){function t(){var e=this;v(this,t),p(this,"events",[]),p(this,"scrollZoom",!0),p(this,"dragPan",!0),p(this,"dragRotate",!0),p(this,"doubleClickZoom",!0),p(this,"touchZoom",!0),p(this,"touchRotate",!1),p(this,"keyboard",!0),p(this,"_interactionState",{isDragging:!1}),p(this,"_events",{}),p(this,"_setInteractionState",(function(t){Object.assign(e._interactionState,t),e.onStateChange&&e.onStateChange(e._interactionState)})),p(this,"_onTransition",(function(t,n){e.onViewportChange(t,e._interactionState,n)})),this.handleEvent=this.handleEvent.bind(this),this._transitionManager=new $e({onViewportChange:this._onTransition,onStateChange:this._setInteractionState})}return m(t,[{key:"handleEvent",value:function(t){this.mapState=this.getMapState();var e=this._eventStartBlocked;switch(t.type){case"panstart":return!e&&this._onPanStart(t);case"panmove":return this._onPan(t);case"panend":return this._onPanEnd(t);case"pinchstart":return!e&&this._onPinchStart(t);case"pinchmove":return this._onPinch(t);case"pinchend":return this._onPinchEnd(t);case"tripanstart":return!e&&this._onTriplePanStart(t);case"tripanmove":return this._onTriplePan(t);case"tripanend":return this._onTriplePanEnd(t);case"doubletap":return this._onDoubleTap(t);case"wheel":return this._onWheel(t);case"keydown":return this._onKeyDown(t);default:return!1}}},{key:"getCenter",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"isFunctionKeyPressed",value:function(t){var e=t.srcEvent;return Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}},{key:"blockEvents",value:function(t){var e=this,n=setTimeout((function(){e._eventStartBlocked===n&&(e._eventStartBlocked=null)}),t);this._eventStartBlocked=n}},{key:"updateViewport",value:function(t,e,n){var r=this.mapState instanceof re?this.mapState.getViewportProps():this.mapState,o=Wn(Wn({},t.getViewportProps()),e),i=Object.keys(o).some((function(t){return r[t]!==o[t]}));this._state=t.getState(),this._setInteractionState(n),i&&this.onViewportChange(o,this._interactionState,r)}},{key:"getMapState",value:function(t){return new re(Wn(Wn(Wn({},this.mapStateProps),this._state),t))}},{key:"isDragging",value:function(){return this._interactionState.isDragging}},{key:"setOptions",value:function(t){var e=t.onViewportChange,n=t.onStateChange,r=t.eventManager,o=void 0===r?this.eventManager:r,i=t.isInteractive,a=void 0===i||i,s=t.scrollZoom,u=void 0===s?this.scrollZoom:s,c=t.dragPan,l=void 0===c?this.dragPan:c,p=t.dragRotate,f=void 0===p?this.dragRotate:p,h=t.doubleClickZoom,d=void 0===h?this.doubleClickZoom:h,v=t.touchZoom,g=void 0===v?this.touchZoom:v,m=t.touchRotate,y=void 0===m?this.touchRotate:m,b=t.keyboard,w=void 0===b?this.keyboard:b;this.onViewportChange=e,this.onStateChange=n;var E=this.mapStateProps||{},P=E.height!==t.height||E.width!==t.width;this.mapStateProps=t,P&&(this.mapState=E,this.updateViewport(new re(t))),this._transitionManager.processViewportChange(t),this.eventManager!==o&&(this.eventManager=o,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents(Yn,a&&Boolean(u)),this.toggleEvents(Kn,a&&Boolean(l||f)),this.toggleEvents($n,a&&Boolean(g||y)),this.toggleEvents(Jn,a&&Boolean(y)),this.toggleEvents(Qn,a&&Boolean(d)),this.toggleEvents(tr,a&&Boolean(w)),this.scrollZoom=u,this.dragPan=l,this.dragRotate=f,this.doubleClickZoom=d,this.touchZoom=g,this.touchRotate=y,this.keyboard=w}},{key:"toggleEvents",value:function(t,e){var n=this;this.eventManager&&t.forEach((function(t){n._events[t]!==e&&(n._events[t]=e,e?n.eventManager.on(t,n.handleEvent):n.eventManager.off(t,n.handleEvent))}))}},{key:"_onPanStart",value:function(t){var e=this.getCenter(t);this._panRotate=this.isFunctionKeyPressed(t)||t.rightButton;var n=this._panRotate?this.mapState.rotateStart({pos:e}):this.mapState.panStart({pos:e});return this.updateViewport(n,Zn,{isDragging:!0}),!0}},{key:"_onPan",value:function(t){return!!this.isDragging()&&(this._panRotate?this._onPanRotate(t):this._onPanMove(t))}},{key:"_onPanEnd",value:function(t){return!!this.isDragging()&&(this._panRotate?this._onPanRotateEnd(t):this._onPanMoveEnd(t))}},{key:"_onPanMove",value:function(t){if(!this.dragPan)return!1;var e=this.getCenter(t),n=this.mapState.pan({pos:e});return this.updateViewport(n,Zn,{isPanning:!0}),!0}},{key:"_onPanMoveEnd",value:function(t){if(this.dragPan){var e=this.dragPan.inertia,n=void 0===e?Xn:e;if(n&&t.velocity){var r=this.getCenter(t),o=[r[0]+t.velocityX*n/2,r[1]+t.velocityY*n/2],i=this.mapState.pan({pos:o}).panEnd();return this.updateViewport(i,Wn(Wn({},qn),{},{transitionDuration:n,transitionEasing:Un}),{isDragging:!1,isPanning:!0}),!0}}var a=this.mapState.panEnd();return this.updateViewport(a,null,{isDragging:!1,isPanning:!1}),!0}},{key:"_onPanRotate",value:function(t){if(!this.dragRotate)return!1;var e=this.getCenter(t),n=this.mapState.rotate({pos:e});return this.updateViewport(n,Zn,{isRotating:!0}),!0}},{key:"_onPanRotateEnd",value:function(t){if(this.dragRotate){var e=this.dragRotate.inertia,n=void 0===e?Xn:e;if(n&&t.velocity){var r=this.getCenter(t),o=[r[0]+t.velocityX*n/2,r[1]+t.velocityY*n/2],i=this.mapState.rotate({pos:o}).rotateEnd();return this.updateViewport(i,Wn(Wn({},qn),{},{transitionDuration:n,transitionEasing:Un}),{isDragging:!1,isRotating:!0}),!0}}var a=this.mapState.panEnd();return this.updateViewport(a,null,{isDragging:!1,isRotating:!1}),!0}},{key:"_onWheel",value:function(t){if(!this.scrollZoom)return!1;var e=this.scrollZoom,n=e.speed,r=void 0===n?.01:n,o=e.smooth,i=void 0!==o&&o;t.preventDefault();var a=this.getCenter(t),s=t.delta,u=2/(1+Math.exp(-Math.abs(s*r)));s<0&&0!==u&&(u=1/u);var c=this.mapState.zoom({pos:a,scale:u});return c.getViewportProps().zoom!==this.mapStateProps.zoom&&(this.updateViewport(c,Wn(Wn({},qn),{},{transitionInterpolator:new We({around:a}),transitionDuration:i?250:1}),{isPanning:!0,isZooming:!0}),!0)}},{key:"_onPinchStart",value:function(t){var e=this.getCenter(t),n=this.mapState.zoomStart({pos:e}).rotateStart({pos:e});return this._startPinchRotation=t.rotation,this._lastPinchEvent=t,this.updateViewport(n,Zn,{isDragging:!0}),!0}},{key:"_onPinch",value:function(t){if(!this.isDragging())return!1;if(!this.touchZoom&&!this.touchRotate)return!1;var e=this.mapState;if(this.touchZoom){var n=t.scale,r=this.getCenter(t);e=e.zoom({pos:r,scale:n})}if(this.touchRotate){var o=t.rotation;e=e.rotate({deltaAngleX:this._startPinchRotation-o})}return this.updateViewport(e,Zn,{isDragging:!0,isPanning:Boolean(this.touchZoom),isZooming:Boolean(this.touchZoom),isRotating:Boolean(this.touchRotate)}),this._lastPinchEvent=t,!0}},{key:"_onPinchEnd",value:function(t){if(!this.isDragging())return!1;if(this.touchZoom){var e=this.touchZoom.inertia,n=void 0===e?Xn:e,r=this._lastPinchEvent;if(n&&r&&t.scale!==r.scale){var o=this.getCenter(t),i=this.mapState.rotateEnd(),a=Math.log2(t.scale),s=(a-Math.log2(r.scale))/(t.deltaTime-r.deltaTime),u=Math.pow(2,a+s*n/2);return i=i.zoom({pos:o,scale:u}).zoomEnd(),this.updateViewport(i,Wn(Wn({},qn),{},{transitionInterpolator:new We({around:o}),transitionDuration:n,transitionEasing:Un}),{isDragging:!1,isPanning:Boolean(this.touchZoom),isZooming:Boolean(this.touchZoom),isRotating:!1}),this.blockEvents(n),!0}}var c=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(c,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),this._startPinchRotation=null,this._lastPinchEvent=null,!0}},{key:"_onTriplePanStart",value:function(t){var e=this.getCenter(t),n=this.mapState.rotateStart({pos:e});return this.updateViewport(n,Zn,{isDragging:!0}),!0}},{key:"_onTriplePan",value:function(t){if(!this.isDragging())return!1;if(!this.touchRotate)return!1;var e=this.getCenter(t);e[0]-=t.deltaX;var n=this.mapState.rotate({pos:e});return this.updateViewport(n,Zn,{isRotating:!0}),!0}},{key:"_onTriplePanEnd",value:function(t){if(!this.isDragging())return!1;if(this.touchRotate){var e=this.touchRotate.inertia,n=void 0===e?Xn:e;if(n&&t.velocityY){var r=this.getCenter(t),o=[r[0],r[1]+=t.velocityY*n/2],i=this.mapState.rotate({pos:o});return this.updateViewport(i,Wn(Wn({},qn),{},{transitionDuration:n,transitionEasing:Un}),{isDragging:!1,isRotating:!0}),this.blockEvents(n),!1}}var a=this.mapState.rotateEnd();return this.updateViewport(a,null,{isDragging:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(t){if(!this.doubleClickZoom)return!1;var e=this.getCenter(t),n=this.isFunctionKeyPressed(t),r=this.mapState.zoom({pos:e,scale:n?.5:2});return this.updateViewport(r,Object.assign({},qn,{transitionInterpolator:new We({around:e})}),{isZooming:!0}),!0}},{key:"_onKeyDown",value:function(t){if(!this.keyboard)return!1;var e,n=this.isFunctionKeyPressed(t),r=this.keyboard,o=r.zoomSpeed,i=void 0===o?2:o,a=r.moveSpeed,s=void 0===a?100:a,u=r.rotateSpeedX,c=void 0===u?15:u,l=r.rotateSpeedY,p=void 0===l?10:l,f=this.mapStateProps;switch(t.srcEvent.keyCode){case 189:e=n?this.getMapState({zoom:f.zoom-Math.log2(i)-1}):this.getMapState({zoom:f.zoom-Math.log2(i)});break;case 187:e=n?this.getMapState({zoom:f.zoom+Math.log2(i)+1}):this.getMapState({zoom:f.zoom+Math.log2(i)});break;case 37:e=n?this.getMapState({bearing:f.bearing-c}):this.mapState.pan({pos:[s,0],startPos:[0,0]});break;case 39:e=n?this.getMapState({bearing:f.bearing+c}):this.mapState.pan({pos:[-s,0],startPos:[0,0]});break;case 38:e=n?this.getMapState({pitch:f.pitch+p}):this.mapState.pan({pos:[0,s],startPos:[0,0]});break;case 40:e=n?this.getMapState({pitch:f.pitch-p}):this.mapState.pan({pos:[0,-s],startPos:[0,0]});break;default:return!1}return this.updateViewport(e,qn)}}]),t}();function nr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nr(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var or=Object.assign({},we.propTypes,{maxZoom:f.number,minZoom:f.number,maxPitch:f.number,minPitch:f.number,onViewStateChange:f.func,onViewportChange:f.func,onInteractionStateChange:f.func,transitionDuration:f.oneOfType([f.number,f.string]),transitionInterpolator:f.object,transitionInterruption:f.number,transitionEasing:f.func,onTransitionStart:f.func,onTransitionInterrupt:f.func,onTransitionEnd:f.func,scrollZoom:f.oneOfType([f.bool,f.object]),dragPan:f.oneOfType([f.bool,f.object]),dragRotate:f.oneOfType([f.bool,f.object]),doubleClickZoom:f.bool,touchZoom:f.oneOfType([f.bool,f.object]),touchRotate:f.oneOfType([f.bool,f.object]),keyboard:f.oneOfType([f.bool,f.object]),onHover:f.func,onClick:f.func,onDblClick:f.func,onContextMenu:f.func,onMouseDown:f.func,onMouseMove:f.func,onMouseUp:f.func,onTouchStart:f.func,onTouchMove:f.func,onTouchEnd:f.func,onMouseEnter:f.func,onMouseLeave:f.func,onMouseOut:f.func,onWheel:f.func,touchAction:f.string,eventRecognizerOptions:f.object,clickRadius:f.number,interactiveLayerIds:f.array,getCursor:f.func,controller:f.instanceOf(er)}),ir=Object.assign({},we.defaultProps,Qt,$e.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(t){return t.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:"none",eventRecognizerOptions:{},clickRadius:0,getCursor:function(t){var e=t.isDragging,n=t.isHovering;return e?"grabbing":n?"pointer":"grab"}});function ar(t){if(t.lngLat||!t.offsetCenter)return t;var e=t.offsetCenter,n=e.x,r=e.y;if(!Number.isFinite(n)||!Number.isFinite(r))return t;var o=[n,r];t.point=o;var i=this.viewport,a=i.unproject(o,{targetZ:i.meterOffset[2]});return t.lngLat=[a[0],a[1]],t}function sr(t){var e=this.map;if(!e||!t)return null;var n={},r=this.props.clickRadius;this.props.interactiveLayerIds&&(n.layers=this.props.interactiveLayerIds);try{return e.queryRenderedFeatures(r?[[t[0]-r,t[1]+r],[t[0]+r,t[1]-r]]:t,n)}catch(o){return null}}function ur(t,e){var n=this.props[t];n&&n(ar.call(this,e))}function cr(t){ur.call(this,"touch"===t.pointerType?"onTouchStart":"onMouseDown",t)}function lr(t){ur.call(this,"touch"===t.pointerType?"onTouchEnd":"onMouseUp",t)}function pr(t){if(ur.call(this,"touch"===t.pointerType?"onTouchMove":"onMouseMove",t),!this.state.isDragging){var e,n=this.props,r=n.onHover,o=n.interactiveLayerIds;t=ar.call(this,t),(o||r)&&(e=sr.call(this,t.point));var i=Boolean(o&&e&&e.length>0),a=i&&!this.state.isHovering,s=!i&&this.state.isHovering;(r||a)&&(t.features=e,r&&r(t)),a&&ur.call(this,"onMouseEnter",t),s&&ur.call(this,"onMouseLeave",t),(a||s)&&this.setState({isHovering:i})}}function fr(t){var e=this.props,n=e.onClick,r=e.onNativeClick,o=e.onDblClick,i=e.doubleClickZoom,a=[],s=o||i;switch(t.type){case"anyclick":a.push(r),s||a.push(n);break;case"click":s&&a.push(n)}(a=a.filter(Boolean)).length&&((t=ar.call(this,t)).features=sr.call(this,t.point),a.forEach((function(e){return e(t)})))}var hr=(0,o.forwardRef)((function(t,e){var n=(0,o.useContext)(ce),i=(0,o.useMemo)((function(){return t.controller||new er}),[]),a=(0,o.useMemo)((function(){return new Gn(null,{touchAction:t.touchAction,recognizerOptions:t.eventRecognizerOptions})}),[]),s=(0,o.useRef)(null),u=(0,o.useRef)(null),c=(0,o.useRef)({width:0,height:0,state:{isHovering:!1,isDragging:!1}}).current;c.props=t,c.map=u.current&&u.current.getMap(),c.setState=function(e){c.state=rr(rr({},c.state),e),s.current.style.cursor=t.getCursor(c.state)};var p,f,h=!0,d=function(t,e,n){if(h)p=[t,e,n];else{var r=c.props,o=r.onViewStateChange,i=r.onViewportChange;Object.defineProperty(t,"position",{get:function(){return[0,0,pe(c.map,t)]}}),o&&o({viewState:t,interactionState:e,oldViewState:n}),i&&i(t,e,n)}};(0,o.useImperativeHandle)(e,(function(){return function(t){return{getMap:t.current&&t.current.getMap,queryRenderedFeatures:t.current&&t.current.queryRenderedFeatures}}(u)}),[]);var v=(0,o.useMemo)((function(){return rr(rr({},n),{},{eventManager:a,container:n.container||s.current})}),[n,s.current]);v.onViewportChange=d,v.viewport=n.viewport||ve(c),c.viewport=v.viewport;var g=function(t){var e=t.isDragging,n=void 0!==e&&e;if(n!==c.state.isDragging&&c.setState({isDragging:n}),h)f=t;else{var r=c.props.onInteractionStateChange;r&&r(t)}},m=function(){c.width&&c.height&&i.setOptions(rr(rr(rr({},c.props),c.props.viewState),{},{isInteractive:Boolean(c.props.onViewStateChange||c.props.onViewportChange),onViewportChange:d,onStateChange:g,eventManager:a,width:c.width,height:c.height}))};(0,o.useEffect)((function(){return a.setElement(s.current),a.on({pointerdown:cr.bind(c),pointermove:pr.bind(c),pointerup:lr.bind(c),pointerleave:ur.bind(c,"onMouseOut"),click:fr.bind(c),anyclick:fr.bind(c),dblclick:ur.bind(c,"onDblClick"),wheel:ur.bind(c,"onWheel"),contextmenu:ur.bind(c,"onContextMenu")}),function(){a.destroy()}}),[]),le((function(){p&&d.apply(void 0,(0,r.Z)(p)),f&&g(f)})),m();var y=t.width,b=t.height,w=t.style,E=t.getCursor,P=(0,o.useMemo)((function(){return rr(rr({position:"relative"},w),{},{width:y,height:b,cursor:E(c.state)})}),[w,y,b,E,c.state]);return p&&c._child||(c._child=o.createElement(ue,{value:v},o.createElement("div",{key:"event-canvas",ref:s,style:P},o.createElement(we,(0,l.Z)({},t,{width:"100%",height:"100%",style:null,onResize:function(t){var e=t.width,n=t.height;c.width=e,c.height=n,m(),c.props.onResize({width:e,height:n})},ref:u}))))),h=!1,c._child}));hr.supported=we.supported,hr.propTypes=or,hr.defaultProps=ir;var dr=hr;var vr=n(3366);function gr(t){return gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gr(t)}function mr(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!mr(t[n],e[n]))return!1;return!0}if(Array.isArray(e))return!1;if("object"===gr(t)&&"object"===gr(e)){var r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;for(var i=0,a=r;i<a.length;i++){var s=a[i];if(!e.hasOwnProperty(s))return!1;if(!mr(t[s],e[s]))return!1}return!0}return!1}function yr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yr(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var wr={type:f.oneOf(["fill","line","symbol","circle","fill-extrusion","raster","background","heatmap","hillshade","sky"]).isRequired,id:f.string,source:f.string,beforeId:f.string};function Er(t,e,n,r){var o=n.layout,i=void 0===o?{}:o,a=n.paint,s=void 0===a?{}:a,u=n.filter,c=n.minzoom,l=n.maxzoom,p=n.beforeId,f=function(t,e){if(null==t)return{};var n,r,o=(0,vr.Z)(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(n,["layout","paint","filter","minzoom","maxzoom","beforeId"]);if(p!==r.beforeId&&t.moveLayer(e,p),i!==r.layout){var h=r.layout||{};for(var d in i)mr(i[d],h[d])||t.setLayoutProperty(e,d,i[d]);for(var v in h)i.hasOwnProperty(v)||t.setLayoutProperty(e,v,void 0)}if(s!==r.paint){var g=r.paint||{};for(var m in s)mr(s[m],g[m])||t.setPaintProperty(e,m,s[m]);for(var y in g)s.hasOwnProperty(y)||t.setPaintProperty(e,y,void 0)}for(var b in mr(u,r.filter)||t.setFilter(e,u),c===r.minzoom&&l===r.maxzoom||t.setLayerZoomRange(e,c,l),f)mr(f[b],r[b])||t.setLayerProperty(e,b,f[b])}var Pr=0;function Sr(t){var e=(0,o.useContext)(ce),n=(0,o.useRef)({id:t.id,type:t.type}),r=d((0,o.useState)(0),2)[1],i=(0,o.useMemo)((function(){return t.id||"jsx-layer-".concat(Pr++)}),[]),a=e.map;return(0,o.useEffect)((function(){if(a){var t=function(){return r((function(t){return t+1}))};return a.on("styledata",t),function(){a.off("styledata",t),a.style&&a.style._loaded&&a.removeLayer(i)}}}),[a]),a&&a.style&&a.getLayer(i)?function(t,e,n,r){Kt(n.id===r.id,"layer id changed"),Kt(n.type===r.type,"layer type changed");try{Er(t,e,n,r)}catch(o){console.warn(o)}}(a,i,t,n.current):function(t,e,n){if(t.style&&t.style._loaded){var r=br(br({},n),{},{id:e});delete r.beforeId,t.addLayer(r,n.beforeId)}}(a,i,t),n.current=t,null}Sr.propTypes=wr;var Or={captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0,capturePointerMove:!1},xr={captureScroll:f.bool,captureDrag:f.bool,captureClick:f.bool,captureDoubleClick:f.bool,capturePointerMove:f.bool};function Rr(t){var e=t.containerRef.current,n=t.context.eventManager;if(e&&n){var r={wheel:function(e){var n=t.props;n.captureScroll&&e.stopPropagation(),n.onScroll&&n.onScroll(e,t)},panstart:function(e){var n=t.props;n.captureDrag&&e.stopPropagation(),n.onDragStart&&n.onDragStart(e,t)},anyclick:function(e){var n=t.props;n.captureClick&&e.stopPropagation(),n.onNativeClick&&n.onNativeClick(e,t)},click:function(e){var n=t.props;n.captureClick&&e.stopPropagation(),n.onClick&&n.onClick(e,t)},dblclick:function(e){var n=t.props;n.captureDoubleClick&&e.stopPropagation(),n.onDoubleClick&&n.onDoubleClick(e,t)},pointermove:function(e){var n=t.props;n.capturePointerMove&&e.stopPropagation(),n.onPointerMove&&n.onPointerMove(e,t)}};return n.watch(r,e),function(){n.off(r)}}}function _r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,o.useContext)(ce),n=(0,o.useRef)(null),r=(0,o.useRef)({props:t,state:{},context:e,containerRef:n}),i=r.current;return i.props=t,i.context=e,(0,o.useEffect)((function(){return Rr(i)}),[e.eventManager]),i}function Cr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Me(t);if(e){var o=Me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ce(this,n)}}function Mr(t){var e=t.instance,n=_r(t),r=n.context,o=n.containerRef;return e._context=r,e._containerRef=o,e._render()}var kr=function(t){Re(n,t);var e=Cr(n);function n(){var t;v(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return p(Oe(t=e.call.apply(e,[this].concat(i))),"_context",{}),p(Oe(t),"_containerRef",(0,o.createRef)()),p(Oe(t),"_onScroll",(function(t){})),p(Oe(t),"_onDragStart",(function(t){})),p(Oe(t),"_onDblClick",(function(t){})),p(Oe(t),"_onClick",(function(t){})),p(Oe(t),"_onPointerMove",(function(t){})),t}return m(n,[{key:"_render",value:function(){throw new Error("_render() not implemented")}},{key:"render",value:function(){return o.createElement(Mr,(0,l.Z)({instance:this},this.props,{onScroll:this._onScroll,onDragStart:this._onDragStart,onDblClick:this._onDblClick,onClick:this._onClick,onPointerMove:this._onPointerMove}))}}]),n}(o.PureComponent);function jr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jr(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}p(kr,"propTypes",xr),p(kr,"defaultProps",Or);Object.assign({},xr,{draggable:f.bool,onDrag:f.func,onDragEnd:f.func,onDragStart:f.func,offsetLeft:f.number,offsetTop:f.number});var Ir=Object.assign({},Or,{draggable:!1,offsetLeft:0,offsetTop:0});function Dr(t){var e=t.offsetCenter;return[e.x,e.y]}function Ar(t,e,n,r){var o=t[0]+e[0]-n.offsetLeft,i=t[1]+e[1]-n.offsetTop;return r.viewport.unproject([o,i])}function zr(t,e){var n=e.props,r=e.callbacks,o=e.state,i=e.context,a=e.containerRef;if(n.draggable){t.stopPropagation();var s=Dr(t),u=function(t,e){var n=t.center,r=n.x,o=n.y;if(e){var i=e.getBoundingClientRect();return[i.left-r,i.top-o]}return null}(t,a.current);if(o.setDragPos(s),o.setDragOffset(u),r.onDragStart&&u){var c=Object.assign({},t);c.lngLat=Ar(s,u,n,i),r.onDragStart(c)}}}function Br(t){var e=t.context.eventManager;if(e&&t.state.dragPos){var n={panmove:function(e){return function(t,e){var n=e.props,r=e.callbacks,o=e.state,i=e.context;t.stopPropagation();var a=Dr(t);o.setDragPos(a);var s=o.dragOffset;if(r.onDrag&&s){var u=Object.assign({},t);u.lngLat=Ar(a,s,n,i),r.onDrag(u)}}(e,t)},panend:function(e){return function(t,e){var n=e.props,r=e.callbacks,o=e.state,i=e.context;t.stopPropagation();var a=o.dragPos,s=o.dragOffset;if(o.setDragPos(null),o.setDragOffset(null),r.onDragEnd&&a&&s){var u=Object.assign({},t);u.lngLat=Ar(a,s,n,i),r.onDragEnd(u)}}(e,t)},pancancel:function(e){return n=e,r=t.state,n.stopPropagation(),r.setDragPos(null),void r.setDragOffset(null);var n,r}};return e.watch(n),function(){e.off(n)}}}var Fr="undefined"!=typeof window&&window.devicePixelRatio||1,Nr=function(t){return Math.round(t*Fr)/Fr},Lr=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";if(null===t)return e;var r="x"===n?t.offsetWidth:t.offsetHeight;return Nr(e/100*r)/r*100},Hr=Object.assign({},Ir,{className:""});function Gr(t){var e=function(t){var e=d((0,o.useState)(null),2),n=e[0],r=e[1],i=d((0,o.useState)(null),2),a=i[0],s=i[1],u=_r(Tr(Tr({},t),{},{onDragStart:zr}));return u.callbacks=t,u.state.dragPos=n,u.state.setDragPos=r,u.state.dragOffset=a,u.state.setDragOffset=s,(0,o.useEffect)((function(){return Br(u)}),[u.context.eventManager,Boolean(n)]),u}(t),n=e.state,r=e.containerRef,i=t.children,a=t.className,s=t.draggable,u=n.dragPos,c=function(t){var e=t.props,n=t.state,r=t.context,o=e.longitude,i=e.latitude,a=e.offsetLeft,s=e.offsetTop,u=n.dragPos,c=n.dragOffset,l=r.viewport,p=r.map;if(u&&c)return[u[0]+c[0],u[1]+c[1]];var f=pe(p,{longitude:o,latitude:i}),h=d(l.project([o,i,f]),2),v=h[0],g=h[1];return[v+=a,g+=s]}(e),l=d(c,2),p=l[0],f=l[1],h="translate(".concat(Nr(p),"px, ").concat(Nr(f),"px)"),v=s?u?"grabbing":"grab":"auto",g=(0,o.useMemo)((function(){var t={position:"absolute",left:0,top:0,transform:h,cursor:v};return o.createElement("div",{className:"mapboxgl-marker ".concat(a),ref:e.containerRef,style:t},i)}),[i,a]),m=r.current;return m&&(m.style.transform=h,m.style.cursor=v),g}Gr.defaultProps=Hr;var Vr=o.memo(Gr),Wr={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},Zr=Object.keys(Wr);var qr=Object.assign({},Or,{className:"",offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}});function Xr(t,e,n,r){var o=d(r,2),i=o[0],a=o[1],s=t.anchor,u=t.dynamicPosition,c=t.tipSize;return n&&u?function(t){var e=t.x,n=t.y,r=t.width,o=t.height,i=t.selfWidth,a=t.selfHeight,s=t.anchor,u=t.padding,c=void 0===u?0:u,l=Wr[s],p=l.x,f=l.y,h=n-f*a,d=h+a,v=Math.max(0,c-h)+Math.max(0,d-o+c);if(v>0){var g=f,m=v;for(f=0;f<=1;f+=.5)d=(h=n-f*a)+a,(v=Math.max(0,c-h)+Math.max(0,d-o+c))<m&&(m=v,g=f);f=g}var y=.5;.5===f&&(p=Math.floor(p),y=1);var b=e-p*i,w=b+i,E=Math.max(0,c-b)+Math.max(0,w-r+c);if(E>0){var P=p,S=E;for(p=0;p<=1;p+=y)w=(b=e-p*i)+i,(E=Math.max(0,c-b)+Math.max(0,w-r+c))<S&&(S=E,P=p);p=P}return Zr.find((function(t){var e=Wr[t];return e.x===p&&e.y===f}))||s}({x:i,y:a,anchor:s,padding:c,width:e.width,height:e.height,selfWidth:n.clientWidth,selfHeight:n.clientHeight}):s}function Ur(t){var e=(0,o.useRef)(null),n=_r(t),r=n.context,i=n.containerRef,a=d((0,o.useState)(!1),2)[1];(0,o.useEffect)((function(){a(!0)}),[e.current]),(0,o.useEffect)((function(){if(r.eventManager&&t.closeOnClick){var e=function(){return n.props.onClose()};return r.eventManager.on("anyclick",e),function(){r.eventManager.off("anyclick",e)}}}),[r.eventManager,t.closeOnClick]);var s=r.viewport,u=r.map,c=t.className,l=t.longitude,p=t.latitude,f=t.tipSize,h=t.closeButton,v=t.children,g=t.altitude;void 0===g&&(g=pe(u,{longitude:l,latitude:p}));var m=s.project([l,p,g]),y=Xr(t,s,e.current,m),b=function(t,e,n,r,o){var i=d(r,3),a=i[0],s=i[1],u=i[2],c=t.offsetLeft,l=t.offsetTop,p=t.sortByDepth,f=Wr[o],h=a+c,v=s+l,g=Lr(n,100*-f.x),m=Lr(n,100*-f.y,"y"),y={position:"absolute",transform:"\n      translate(".concat(g,"%, ").concat(m,"%)\n      translate(").concat(Nr(h),"px, ").concat(Nr(v),"px)\n    "),display:void 0,zIndex:void 0};return p?(u>1||u<-1||a<0||a>e.width||s<0||s>e.height?y.display="none":y.zIndex=Math.floor((1-u)/2*1e5),y):y}(t,s,i.current,m,y),w=(0,o.useCallback)((function(t){n.props.onClose();var e=n.context.eventManager;e&&e.once("click",(function(t){return t.stopPropagation()}),t.target)}),[]);return o.createElement("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(y," ").concat(c),style:b,ref:i},o.createElement("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:f}}),o.createElement("div",{key:"content",ref:e,className:"mapboxgl-popup-content"},h&&o.createElement("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button",onClick:w},"×"),v))}Ur.defaultProps=qr;var Yr=o.memo(Ur);function Kr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var $r=Object.assign({},Or,{className:"",toggleLabel:"Toggle Attribution"});function Jr(t){var e=_r(t),n=e.context,r=e.containerRef,i=(0,o.useRef)(null),a=d((0,o.useState)(!1),2),s=a[0],u=a[1];(0,o.useEffect)((function(){var e;return n.map&&(e=function(t,e,n,r){var o=new(Zt().AttributionControl)(t);return o._map=e,o._container=n,o._innerContainer=r,o._updateAttributions(),o._updateEditLink(),e.on("styledata",o._updateData),e.on("sourcedata",o._updateData),o}({customAttribution:t.customAttribution},n.map,r.current,i.current)),function(){return e&&function(t){t._map.off("styledata",t._updateData),t._map.off("sourcedata",t._updateData)}(e)}}),[n.map]);var c=void 0===t.compact?n.viewport.width<=640:t.compact;(0,o.useEffect)((function(){!c&&s&&u(!1)}),[c]);var l=(0,o.useCallback)((function(){return u((function(t){return!t}))}),[]),f=(0,o.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kr(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute"},t.style)}),[t.style]);return o.createElement("div",{style:f,className:t.className},o.createElement("div",{ref:r,"aria-pressed":s,className:"mapboxgl-ctrl mapboxgl-ctrl-attrib ".concat(c?"mapboxgl-compact":""," ").concat(s?"mapboxgl-compact-show":"")},o.createElement("button",{type:"button",className:"mapboxgl-ctrl-attrib-button",title:t.toggleLabel,onClick:l}),o.createElement("div",{ref:i,className:"mapboxgl-ctrl-attrib-inner",role:"list"})))}Jr.defaultProps=$r;o.memo(Jr);function Qr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var to=Object.assign({},Or,{className:"",container:null,label:"Toggle fullscreen"});function eo(t){var e=_r(t),n=e.context,r=e.containerRef,i=d((0,o.useState)(!1),2),a=i[0],s=i[1],u=d((0,o.useState)(!1),2),c=u[0],l=u[1],f=d((0,o.useState)(null),2),h=f[0],v=f[1];(0,o.useEffect)((function(){var t=new(Zt().FullscreenControl);v(t),l(t._checkFullscreenSupport());var e=function(){var e=!t._fullscreen;t._fullscreen=e,s(e)};return It.addEventListener(t._fullscreenchange,e),function(){It.removeEventListener(t._fullscreenchange,e)}}),[]);var g=(0,o.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qr(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute"},t.style)}),[t.style]);if(!c)return null;var m=t.className,y=t.label,b=a?"shrink":"fullscreen";return o.createElement("div",{style:g,className:m},o.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:r},o.createElement("button",{key:b,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(b),type:"button",title:y,onClick:function(){h&&(h._container=t.container||n.container,h._onClickFullscreen())}},o.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))))}eo.defaultProps=to;var no;o.memo(eo);function ro(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var oo=function(){},io=Object.assign({},Or,{className:"",label:"Find My Location",disabledLabel:"Location Not Available",auto:!1,positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0,showAccuracyCircle:!0,onGeolocate:function(){}});function ao(t,e){var n=e.context,r=e.props,o=function(t){var e=new(Zt().LngLat)(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,r=e.toBounds(n);return[[r._ne.lng,r._ne.lat],[r._sw.lng,r._sw.lat]]}(t),i=n.viewport.fitBounds(o,r.fitBoundsOptions),a=i.longitude,s=i.latitude,u=i.zoom,c=Object.assign({},n.viewport,{longitude:a,latitude:s,zoom:u}),l=new re(c),p=Object.assign({},l.getViewportProps(),qn),f=r.onViewportChange||n.onViewportChange||oo;(r.onViewStateChange||n.onViewStateChange||oo)({viewState:p}),f(p)}function so(t){var e=_r(t),n=e.context,r=e.containerRef,i=(0,o.useRef)(null),a=d((0,o.useState)(null),2),s=a[0],u=a[1],c=d((0,o.useState)(!1),2),l=c[0],f=c[1];(0,o.useEffect)((function(){var r;return n.map&&(void 0!==no?Promise.resolve(no):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((function(t){return no="denied"!==t.state})):(no=Boolean(window.navigator.geolocation),Promise.resolve(no))).then((function(o){f(o),i.current&&(r=function(t,e,n){var r=new(Zt().GeolocateControl)(e);r._container=It.createElement("div"),r._map={on:function(){},_getUIString:function(){return""}},r._setupUI(!0),r._map=t.map,r._geolocateButton=n;var o=t.eventManager;return r.options.trackUserLocation&&o&&o.on("panstart",(function(){"ACTIVE_LOCK"===r._watchState&&(r._watchState="BACKGROUND",n.classList.add("mapboxgl-ctrl-geolocate-background"),n.classList.remove("mapboxgl-ctrl-geolocate-active"))})),r.on("geolocate",e.onGeolocate),r}(n,t,i.current),r._updateCamera=function(t){return ao(t,e)},u(r))})),function(){r&&r._clearWatch()}}),[n.map]);var h=(0,o.useCallback)((function(){s&&(s.options=e.props,s.trigger())}),[s]);(0,o.useEffect)((function(){t.auto&&h()}),[s,t.auto]),(0,o.useEffect)((function(){s&&s._onZoom()}),[n.viewport.zoom]);var v=t.className,g=t.label,m=t.disabledLabel,y=t.trackUserLocation,b=(0,o.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ro(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ro(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute"},t.style)}),[t.style]);return o.createElement("div",{style:b,className:v},o.createElement("div",{key:"geolocate-control",className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:r},o.createElement("button",{key:"geolocate",className:"mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",ref:i,disabled:!l,"aria-pressed":!y,type:"button",title:l?g:m,"aria-label":l?g:m,onClick:h},o.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))))}so.defaultProps=io;o.memo(so);function uo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var co=function(){},lo=Object.assign({},Or,{className:"",showCompass:!0,showZoom:!0,zoomInLabel:"Zoom In",zoomOutLabel:"Zoom Out",compassLabel:"Reset North"});function po(t){return function(t,e){for(var n=(t||"").split(".").map(Number),r=(e||"").split(".").map(Number),o=0;o<3;o++){var i=n[o]||0,a=r[o]||0;if(i<a)return-1;if(i>a)return 1}return 0}(t,"1.6.0")>=0?2:1}function fo(t,e,n){var r=t.viewport,o=new re(Object.assign({},r,n)),i=Object.assign({},o.getViewportProps(),qn),a=e.onViewportChange||t.onViewportChange||co;(e.onViewStateChange||t.onViewStateChange||co)({viewState:i}),a(i)}function ho(t,e,n,r){return o.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),type:"button",title:e,onClick:n},r||o.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true"}))}function vo(t){var e=_r(t),n=e.context,r=e.containerRef,i=t.className,a=t.showCompass,s=t.showZoom,u=t.zoomInLabel,c=t.zoomOutLabel,l=t.compassLabel,f=(0,o.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?uo(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute"},t.style)}),[t.style]);return o.createElement("div",{style:f,className:i},o.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group",ref:r},s&&ho("zoom-in",u,(function(){fo(n,t,{zoom:n.viewport.zoom+1})})),s&&ho("zoom-out",c,(function(){fo(n,t,{zoom:n.viewport.zoom-1})})),a&&ho("compass",l,(function(){fo(n,t,{bearing:0,pitch:0})}),function(t){var e=(0,o.useMemo)((function(){return t.map?po(t.map.version):2}),[t.map]),n=t.viewport.bearing,r={transform:"rotate(".concat(-n,"deg)")};return 2===e?o.createElement("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true",style:r}):o.createElement("span",{className:"mapboxgl-ctrl-compass-arrow",style:r})}(n))))}vo.defaultProps=lo;o.memo(vo);function go(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var mo=Object.assign({},Or,{className:"",maxWidth:100,unit:"metric"});function yo(t){var e=_r(t),n=e.context,r=e.containerRef,i=d((0,o.useState)(null),2),a=i[0],s=i[1];(0,o.useEffect)((function(){if(n.map){var t=new(Zt().ScaleControl);t._map=n.map,t._container=r.current,s(t)}}),[n.map]),a&&(a.options=t,a._onMove());var u=(0,o.useMemo)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?go(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute"},t.style)}),[t.style]);return o.createElement("div",{style:u,className:t.className},o.createElement("div",{ref:r,className:"mapboxgl-ctrl mapboxgl-ctrl-scale"}))}yo.defaultProps=mo;o.memo(yo);var bo="undefined"!=typeof window&&window.devicePixelRatio||1;function wo(t){var e=_r(t),n=e.context,r=e.containerRef,i=d((0,o.useState)(null),2),a=i[0],s=i[1];(0,o.useEffect)((function(){s(r.current.getContext("2d"))}),[]);var u=n.viewport,c=n.isDragging;return a&&(a.save(),a.scale(bo,bo),t.redraw({width:u.width,height:u.height,ctx:a,isDragging:c,project:u.project,unproject:u.unproject}),a.restore()),o.createElement("canvas",{ref:r,width:u.width*bo,height:u.height*bo,style:{width:"".concat(u.width,"px"),height:"".concat(u.height,"px"),position:"absolute",left:0,top:0}})}wo.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1};function Eo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Po(t){var e=_r(t),n=e.context,r=e.containerRef,i=n.viewport,a=n.isDragging,s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Eo(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute",left:0,top:0,width:i.width,height:i.height},t.style);return o.createElement("div",{ref:r,style:s},t.redraw({width:i.width,height:i.height,isDragging:a,project:i.project,unproject:i.unproject}))}Po.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1};function So(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Oo(t){var e=_r(t),n=e.context,r=e.containerRef,i=n.viewport,a=n.isDragging,s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?So(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({position:"absolute",left:0,top:0},t.style);return o.createElement("svg",{width:i.width,height:i.height,ref:r,style:s},t.redraw({width:i.width,height:i.height,isDragging:a,project:i.project,unproject:i.unproject}))}Oo.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1,capturePointerMove:!1};Zt()&&Zt().setRTLTextPlugin;var xo=function(t){var e=t.data,n=t.onClick;return e.map((function(t,e){var r=Number(t.long.replace(/,/g,".")),i=Number(t.lat.replace(/,/g,".")),a=Object.assign({},t,{lat:i,long:r});return i&&r?o.createElement(Vr,{key:"marker-"+e,longitude:r,latitude:i},o.createElement("svg",{height:20,viewBox:"0 0 24 24",style:{cursor:"pointer",fill:"#FCF463",stroke:"none",transform:"translate(-10px,-20px)"},onClick:function(){return n(a)}},o.createElement("path",{d:"M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n  C20.1,15.8,20.2,15.8,20.2,15.7z"}))):o.createElement(o.Fragment,null)}))},Ro=o.memo(xo),_o=function(t){var e=t.info,n=e.title,r=e.country,i=e.city;return o.createElement("div",null,o.createElement("div",null,o.createElement("h3",{className:"title is-size-6 has-text-black pt-5 pb-0 mb-0"},n),o.createElement("p",{className:"pt-1 mt-0 is-italic"},i," - ",r)))},Co=o.memo(_o),Mo=function(t){var e=t.data,n=(0,o.useState)({longitude:-100,zoom:3.5,bearing:0,pitch:0,width:"fit",height:500}),r=n[0],i=n[1],a=(0,o.useState)(null),s=a[0],u=a[1];return o.createElement("div",{className:"map"},o.createElement(dr,Object.assign({},r,{onViewportChange:i,mapboxApiAccessToken:"pk.eyJ1IjoiZGVtb2NyYWNpYWVucmVkIiwiYSI6ImNrdTdnN3o3NDAwYmUyd3Awb3hqb2dxOW8ifQ.ST1rGN3B-3Y3VCNofnvqfQ",mapStyle:"mapbox://styles/mapbox/dark-v9"}),e&&o.createElement(Ro,{data:e,onClick:u}),s&&o.createElement(Yr,{tipSize:5,anchor:"top",longitude:s.long,latitude:s.lat,closeOnClick:!1,onClose:u},o.createElement(Co,{info:s}))))},ko=n(742),jo=function(t){var e=t.columns,n=t.data,r=(0,ko.useTable)({columns:e,data:n}),i=r.getTableProps,a=r.getTableBodyProps,s=r.headerGroups,u=r.rows,c=r.prepareRow;return o.createElement("table",Object.assign({className:"table mt-6 pt-6"},i()),o.createElement("thead",null,s.map((function(t){return o.createElement("tr",t.getHeaderGroupProps(),t.headers.map((function(t){return o.createElement("th",t.getHeaderProps(),t.render("Header"))})))}))),o.createElement("tbody",a(),u.map((function(t,e){return c(t),o.createElement("tr",t.getRowProps(),t.cells.map((function(t){return o.createElement("td",t.getCellProps(),t.render("Cell"))})))}))))},To=function(){var t=(0,o.useState)([]),e=t[0],n=t[1],i=(0,o.useState)(!1),l=i[0],p=i[1],f=o.useMemo((function(){return[{Header:"Organización",accessor:"title"},{Header:"Descripción",accessor:"description"},{Header:"Ciudad",accessor:"city"},{Header:"País",accessor:"country"},{Header:"Contacto",accessor:"contact",Cell:function(t){var e=t.row,n=e.original.contact;return e.original.contact&&e.original.contact.includes("@")&&(n="mailto:"+e.original.contact),o.createElement("a",{className:"has-text-primary",href:n},e.original.contact)}}]}),[]);return(0,o.useEffect)((function(){a().get("https://sheets.googleapis.com/v4/spreadsheets/1b5c72bq6SCtlfOqpXu6V-rZN8Tq1eJ3jgw-fYO4jEqQ/values/mapeo?key=AIzaSyApwJ2L6yanQ4VfcuH6NFmQfG0AwtNyWl0").then((function(t){var e=function(t){var e=(0,r.Z)(t[0]);t.shift();var n=[];return t.map((function(t,r){n[r]={},t.map((function(t,o){n[r][e[o]]=t}))})),n}(t.data.values);n(e)})).then((function(){p(!0)}))}),[]),o.createElement("main",null,o.createElement("title",null,"Organizaciones - CONSTELACIONES DE INCIDENCIA"),o.createElement(s.Z,null),o.createElement("section",{className:"main-container py-6 hero is-fullheight"},o.createElement("div",{className:"container is-fluid"},o.createElement(u.Z,null,o.createElement(c.Z,{text:"Home",url:"/"}),o.createElement(c.Z,{text:"Organizaciones",url:"/organizaciones",isActive:!0})),o.createElement("h2",{className:"title vertical-title-desktop organizaciones is-family-secondary is-size-2-desktop has-text-primary is-uppercase"},"Organizaciones"),o.createElement("div",{className:"container has-text-left py-6-desktop ml-6-desktop pl-6-desktop"},l&&o.createElement(o.Fragment,null,o.createElement(Mo,{data:e}),o.createElement(jo,{data:e,columns:f}))))))}}}]);
//# sourceMappingURL=component---src-pages-organizaciones-js-eeef9481c8a920957963.js.map